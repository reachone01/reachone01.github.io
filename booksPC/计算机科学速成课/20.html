<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<base target="_blank" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title></title>
<script type="text/javascript">
var userAgent = navigator.userAgent.toLowerCase();
var browser = 
	(browser = userAgent.match(/qqbrowser\/([\d.]+)/))?"qqbrowser/"+browser[1]:
	(browser = userAgent.match(/se\s+2.x/))?"sogou/2.x": //sougou
	(browser = userAgent.match(/msie\s+([\d.]+)/))?"msie/"+browser[1]: //ie
	(browser = userAgent.match(/chrome\/([\d.]+)/))?"chrome/"+browser[1]: //chrome
	(browser = userAgent.match(/firefox\/([\d.]+)/))?"firefox/"+browser[1]: //firefox
	(browser = userAgent.match(/version\/([\d.]+)\s+safari\/([\d.]+)/))?"safari/"+browser[1]: //safari
	(browser = userAgent.match(/opera\/([\d.]+)([\w\W]+)version\/([\d.]+)/))?"opera/"+browser[3]: //opera
	"other browser";
	var browser4 = browser.substr(0,2);
//实现回到页面顶部  
function goTopEx(){  
	var obj=document.getElementById("goTopBtn"); 
	var obj2=document.getElementById("shangy"); 
	var obj3=document.getElementById("xiay");
	var obj4=document.getElementById("goBottom");  
	
	function getScrollTop(){  
		if(browser4=="ch"){
			//谷歌浏览器  
			return document.documentElement.scrollTop; 
		}else{
			//IE、firefox等浏览器 
			return document.documentElement.scrollTop;  
		}  
	}
	function setScrollTop(value){ 
		if(browser4=="ch"){ 
			//谷歌浏览器  
			document.documentElement.scrollTop=value; 
		}else{  
			//IE、firefox等浏览器
			document.documentElement.scrollTop=value;  
		} 
	}     
	window.onscroll=function(){getScrollTop()>50?obj.style.display="":obj.style.display="none";
	getScrollTop()>100?obj2.style.display="":obj2.style.display="none";
	document.body.clientHeight-getScrollTop()>650?obj3.style.display="":obj3.style.display="none";
	document.body.clientHeight-getScrollTop()>650?obj4.style.display="":obj4.style.display="none";
	}  
	obj.onclick=function(){  
		var goTop=setInterval(scrollMove,10);  
		function scrollMove(){  
				setScrollTop(getScrollTop()/1.1);  
				if(getScrollTop()<1)clearInterval(goTop);  
		}  
	}  
}  
function downn(){
	if(browser4=="ch"){
		//谷歌浏览器  
		window.scrollBy(0,document.body.clientHeight);
	}else{
		//IE、firefox等浏览器  
		window.scrollBy(0,document.documentElement.clientHeight*1000); 
	}
}
function changePage(){ 
	var page = document.getElementById("container");
	page.style.background="black";
	page.style.color="white";
	page.style.fontSize="22px";
	page.style.fontFamily="MV boli";
}
</script>
<script>
document.write('<div style="position:fixed; right: 10px; top:20px; color:#eee;">背景颜色<br><select name=bcolor id=bcolor onchange="javascript:document.body.style.background=this.options[this.selectedIndex].value;"><option style="background-color: #ffffff" value="#ffffff">白色</option><option style="background-color: #f6f6f6" value="#f6f6f6">银灰</option><option style="background-color: #e4ebf1" value="#e4ebf1">淡蓝</option><option style="background-color: #e6f3ff" value="#e6f3ff">蓝色</option> <option style="background-color: #eeeeee" value="#eeeeee">淡灰</option><option style="background-color: #eaeaea" value="#eaeaea">灰色</option>  <option style="background-color: #e4e1d8" value="#e4e1d8">深灰</option><option style="background-color: #e6e6e6" value="#e6e6e6">暗灰</option><option style="background-color: #eefaee" value="#eefaee">绿色</option><option style="background-color: #ffffed" value="#ffffed">明黄</option><option style="background-color: #333333" value="#333333">黑色</option></select><br>字体颜色<br><select name=txtcolor id=txtcolor onchange="javascript:document.getElementById(\'container\').style.color=this.options[this.selectedIndex].value;"> <option value="#000000">黑色</option><option value="#ff0000" style="color:red;">红色</option><option value="#006600" style="color:green;">绿色</option><option value="#0000ff" style="color:blue;">蓝色</option><option value="#660000" style="color:#006600;">棕色</option><option value="#ffffff">白色</option></select><br>字体大小<br><select name=fontsize id=fonttype onchange="javascript:document.getElementById(\'container\').style.fontSize=this.options[this.selectedIndex].value;"> <option value="12px" >小号</option> <option value="14px" >较小</option> <option value="19px" >中号</option> <option value="19px" >默认</option><option value="22px" >较大</option><option value="25px" >大号</option><option value="35px" >35px</option><option value="45px" >45px</option><option value="55px" >55px</option><option value="65px" >65px</option><option value="75px" >75px</option><option value="85px" >85px</option><option value="95px" >95px</option></select>><br>字体类型<br><select name=fonttype id=fonttype onchange="javascript:document.getElementById(\'container\').style.fontFamily=this.options[this.selectedIndex].value;"> <option value="宋体" >宋体</option> <option value="MV boli" style="font-family:MV boli">MV boli</option> <option value="隶书" style="font-family:隶书">隶书</option> <option value="黑体" style="font-family:黑体">黑体</option><option value="楷体" style="font-family:楷体">楷体</option><option value="幼圆" style="font-family:幼圆">幼圆</option><option value="华文中宋" style="font-family:华文中宋">华文中宋</option><option value="华文行楷" style="font-family:华文行楷">华文行楷</option><option value="微软雅黑" style="font-family:微软雅黑">微软雅黑</option><option value="Arial" style="font-family:Arial">Arial</option><option value="Vrinda" style="font-family:Vrinda">Vrinda</option><option value="Tahoma" style="font-family:Tahoma">Tahoma</option><option value="Courier" style="font-family:Courier">Courier</option><option value="Times" style="font-family:Times">Times</option><option value="Georgia" style="font-family:Georgia">Georgia</option><option value="Lucida" style="font-family:Lucida">Lucida</option></select><br><a onClick="changePage()" target="_self" id="changepage">黑底白字</a></div>');   
</script>
<style type="text/css">
#tbrowser a:link，#container a:visited{
	font-size:18px;
	text-decoration:none;
}
a:link{
	text-decoration:none;
	}
#container{
	font-size:1.2em;
	margin:auto;
	font-family:"宋体";
	width:85.29%;
	line-height:1.6em;
	overflow:hidden;
}
P{
	margin-top:16px;
	margin-bottom:16px;
	text-indent:2em;
}
.uls{
	color:#CC6666;
	font-weight:bold;
}
.uls>ol{
	list-style:none;
	font-weight:normal;
	list-style:lower-latin;
	color:#000000;
	line-height:1.3em;
}
h2{
	font-size:20px;
	font-weight:bold;
	margin-top:15px;
	margin-bottom:0px;
	text-indent:0em;
}
#goTopBtn, #goBottom, #shangy, #xiay, #menuPage, #lPage, #fPage, #ftsize1, #ftsize2, #ftsize3{
	width: 18px;
    line-height: 1.2;
    padding: 5px 0;
    font-size: 12px;
    text-align: center;
    position: fixed;
	right: 10px;
    cursor: pointer;
    filter: Alpha(opacity=30);
	opacity=.3;
	font-weight:bold;
}
#goTopBtn, #goBottom, #menuPage, #lPage, #fPage, #ftsize1, #ftsize3{
    background-color:#999;
    color:#000;
}
#shangy, #xiay, #lPage, #fPage, #ftsize, #ftsize2{
    background-color: #bbb;
    color: #000;
}
#fPage{
	bottom: 236px;
	height:42px;
	white-space:nowrap;
	overflow:hidden;
	//writing-mode:tb-rl;
}
#menuPage{
	bottom: 198px;
	height:27px;
	white-space:nowrap;
	overflow:hidden;
}
#lPage{
	bottom: 145px;
	height:42px;
	white-space:nowrap;
	overflow:hidden;
}
#ftsize1{
	bottom:360px;
}
#ftsize2{
	bottom:334px;
}
#ftsize3{
	bottom:308px;
}
#goTopBtn{
    bottom: 105px;
}
#goBottom {
    bottom: 30px;
}
#shangy {
    bottom: 80px;
}
#xiay {
    bottom: 55px;
}
#goTopBtn:hover, #goBottom:hover, #shangy:hover, #xiay:hover, #menuPage:hover, #lPage:hover, #fPage:hover, #ftsize1:hover, #ftsize2:hover, #ftsize3:hover{
	background-color:#ccc;
	border:#ccc 0px solid;
}
#goTopBtn a:link, #goBottom a:link, #xiay a:link, #shangy a:link, #menuPage a:link, #ftsize1 a:link, #ftsize2 a:link, #ftsize3 a:link, #menuPage a:visited, #lPage a:link, #fPage a:link, #lPage a:visited, #fPage a:visited {
	text-decoration: none;
	color:white;
}
img{
	margin-right:2em;
	text-indent:2em;
	border:0;
}
.picsay{
	color:#930;
	font-size:90%;
	line-height:110%;
	margin-top:-12px;
	padding:0;
}
.remark{
	color:#930;
	font-size:90%;
	line-height:140%;
	margin-top:-12px;
	text-indent:0em;
	padding:0;
}
.ref{
	color:#930;
	font-size:95%;
	line-height:150%;
	margin-top:-12px;
	text-indent:2em;
	padding:0;
}
.code0, .code2, .code4{
	font-size:90%;
	line-height:110%;
	margin-top:-12px;
	padding:0;
}
.code0{
	color:red;
	text-indent:0em;
}
.code2{
	color:#930;
	text-indent:2em;
}
.code4{
	color:blue;
	text-indent:4em;
}
sub,sup{
	font-size:80%;
	color:red;
}
.layout, .layout2{
    clear:both;
	width:95%;
	border:1px dotted #eee;
	margin:auto;
	margin-bottom:5px;
	overflow:hidden;
}
.layout2 .right, .layout2 .left, .layout p{
margin-bottom:-55px;
padding-bottom:55px;
text-align: justify;
margin:0;
padding:0;
margin-left:1%;
margin-right:1%;
}
.layout2 .left, .layout p{
float:left;
width:60%;
font-size:1.0em;
}
.layout2 .right,  .layout p+p {
	float: left;
	width:34%;
	border-left:1px dotted #cccccc;
	font-size:0.9em;
	padding-left:1%;
	
}
.layout2 .right p, .layout2 .left p, .layout p{
padding-bottom:5px;
}
h3{
text-indent:3%;
font-size:1em;
height:2.0em;
padding:0;
margin:0;
}
</style>
</head>
<body>
<div id="container">
﻿<div class='layout'><p>20 Files & File Systems</p><p>20 文件系统</p></div>	
<div class='layout'><p>Hi, I'm Carrie Anne, and welcome to Crash Course Computer Science!</p><p>嗨，我是 Carrie Anne，欢迎收看计算机科学速成课！</p></div>	
<div class='layout'><p>Last episode we talked about data storage, how technologies like magnetic tape and hard</p><p>上集我们讲了数据存储，磁带和硬盘这样的技术</p></div>	
<div class='layout'><p>disks can store trillions of bits of data,</p><p>可以在断电状态</p></div>	
<div class='layout'><p>for long durations, even without power.</p><p>长时间存上万亿个位</p></div>	
<div class='layout'><p>Which is perfect for recording "big blobs" of related data,</p><p>非常合适存一整块有关系的数据，</p></div>	
<div class='layout'><p>what are more commonly called computer files.</p><p>或者说"文件"</p></div>	
<div class='layout'><p>You've no doubt encountered many types,</p><p>你肯定见过很多种文件，</p></div>	
<div class='layout'><p>like text files, music files, photos and videos.</p><p>比如文本文件，音乐文件，照片和视频</p></div>	
<div class='layout'><p>Today, we're going to talk about how files work,</p><p>今天，我们要讨论文件到底是什么，</p></div>	
<div class='layout'><p>and how computers keep them all organized with File Systems.</p><p>以及计算机怎么管理文件</p></div>	
<div class='layout'><p>It's perfectly legal for a file to contain arbitrary, unformatted data,</p><p>随意排列文件数据完全没问题，</p></div>	
<div class='layout'><p>but it's most useful and practical if the data inside the file is organized somehow.</p><p>但按格式排会更好</p></div>	
<div class='layout'><p>This is called a file format.</p><p>这叫 "文件格式"</p></div>	
<div class='layout'><p>You can invent your own, and programmers do that from time to time,</p><p>你可以发明自己的文件格式，程序员偶尔会这样做</p></div>	
<div class='layout'><p>but it's usually best and easiest to use an existing standard, like JPEG and MP3.</p><p>但最好用现成标准，比如 JPEG 和 MP3</p></div>	
<div class='layout'><p>Let's look at some simple file formats.</p><p>来看一些简单文件格式，</p></div>	
<div class='layout'><p>The most straightforward are text files,</p><p>最简单的是文本文件</p></div>	
<div class='layout'><p>also know as TXT file, which contain...surprise! text.</p><p>也叫 TXT 文件， 里面包含的是.. 文字 （惊喜吧）</p></div>	
<div class='layout'><p>Like all computer files, this is just a huge list of numbers, stored as binary.</p><p>就像所有其它文件，文本文件只是一长串二进制数</p></div>	
<div class='layout'><p>If we look at the raw values of a text file in storage, it would look something like this:</p><p>原始值看起来会像这样：</p></div>	
<div class='layout'><p>We can view this as decimal numbers instead of binary,</p><p>可以转成十进制看，</p></div>	
<div class='layout'><p>but that still doesn't help us read the text.</p><p>但帮助不大</p></div>	
<div class='layout'><p>The key to interpreting this data is knowing that TXT files use ASCII,</p><p>解码数据的关键是 ASCII 编码</p></div>	
<div class='layout'><p>a character encoding standard we discussed way back in Episode 4.</p><p>一种字符编码标准，第 4 集讨论过.</p></div>	
<div class='layout'><p>So, in ASCII, our first value, 72, maps to the capital letter H.</p><p>第一个值 72，在 ASCII 中是大写字母 H</p></div>	
<div class='layout'><p>And in this way, we decode the whole file.</p><p>以此类推 解码其他数字</p></div>	
<div class='layout'><p>Let's look at a more complicated example: a WAVE File, also called a WAV,</p><p>来看一个更复杂的例子：波形(Wave)文件，也叫 WAV，</p></div>	
<div class='layout'><p>which stores audio.</p><p>它存音频数据</p></div>	
<div class='layout'><p>Before we can correctly read the data, we need to know some information,</p><p>在正确读取数据前，需要知道一些信息</p></div>	
<div class='layout'><p>like the bit rate and whether it's a single track or stereo.</p><p>比如码率(bit rate)，以及是单声道还是立体声</p></div>	
<div class='layout'><p>Data about data, is called meta data.</p><p>关于数据的数据，叫"元数据"(meta data)</p></div>	
<div class='layout'><p>This metadata is stored at the front of the file, ahead of any actual data,</p><p>元数据存在文件开头，在实际数据前面，</p></div>	
<div class='layout'><p>in what's known as a Header.</p><p>因此也叫 文件头(Header)</p></div>	
<div class='layout'><p>Here's what the first 44 bytes of a WAV file looks like.</p><p>WAV 文件的前 44 个字节长这样</p></div>	
<div class='layout'><p>Some parts are always the same, like where it spells out W-A-V-E.</p><p>有的部分总是一样的，比如写着 WAVE 的部分</p></div>	
<div class='layout'><p>Other parts contain numbers that change depending on the data contained within.</p><p>其他部分的内容，会根据数据变化</p></div>	
<div class='layout'><p>The audio data comes right behind the metadata, and it's stored as a long list of numbers.</p><p>音频数据紧跟在元数据后面，是一长串数字</p></div>	
<div class='layout'><p>These values represent the amplitude of sound captured many times per second, and if you</p><p>数字代表每秒捕获多次的声音幅度</p></div>	
<div class='layout'><p>want a primer on sound, check out our video all about it in Crash Course Physics.</p><p>如果想学声音的基础知识，</p></div>	
<div class='layout'><p>Link in the dobblydoo.</p><p>可以看物理速成课</p></div>	
<div class='layout'><p>As an example, let's look at a waveform of me saying: "hello!" Hello!</p><p>举个例子，看一下"你好"的波形</p></div>	
<div class='layout'><p>Now that we've captured some sound, let's zoom into a little snippet.</p><p>现在捕获到了一些声音，我们放大看一下</p></div>	
<div class='layout'><p>A digital microphone, like the one in your computer or smartphone,</p><p>电脑和手机麦克风，</p></div>	
<div class='layout'><p>samples the sound pressure thousands of times.</p><p>每秒可以对声音进行上千次采样</p></div>	
<div class='layout'><p>Each sample can be represented as a number.</p><p>每次采样可以用一个数字表示</p></div>	
<div class='layout'><p>Larger numbers mean higher sound pressure, what's called amplitude.</p><p>声压越高数字越大，也叫"振幅"</p></div>	
<div class='layout'><p>And these numbers are exactly what gets stored in a WAVE file!</p><p>WAVE 文件里存的就是这些数据！</p></div>	
<div class='layout'><p>Thousands of amplitudes for every single second of audio!</p><p>每秒上千次的振幅！</p></div>	
<div class='layout'><p>When it's time to play this file, an audio program needs to actuate the computer's speakers</p><p>播放声音文件时，</p></div>	
<div class='layout'><p>such that the original waveform is emitted.</p><p>扬声器会产生相同的波形</p></div>	
<div class='layout'><p>Hello!</p><p>你好！</p></div>	
<div class='layout'><p>So, now that you're getting the hang of file formats, let's talk about bitmaps or</p><p>现在来谈谈 位图(Bitmap)，</p></div>	
<div class='layout'><p>BMP, which store pictures.</p><p>后缀 .bmp， 它存图片</p></div>	
<div class='layout'><p>On a computer, Pictures are made up of little tiny square elements called pixels.</p><p>计算机上，图片由很多个叫"像素"的方块组成</p></div>	
<div class='layout'><p>Each pixel is a combination of three colors: red, green and blue.</p><p>每个像素由三种颜色组成：红，绿，蓝</p></div>	
<div class='layout'><p>These are called additive primary colors, and they can be mixed together to create any</p><p>叫"加色三原色"，</p></div>	
<div class='layout'><p>other color on our electronic displays.</p><p>混在一起可以创造其它颜色</p></div>	
<div class='layout'><p>Now, just like WAV files, BMPs start with metadata,</p><p>就像 WAV 文件一样，BMP 文件开头也是元数据，</p></div>	
<div class='layout'><p>including key values like image width, image height, and color depth.</p><p>有图片宽度，图片高度，颜色深度</p></div>	
<div class='layout'><p>As an example, let's say the metadata specified an image 4 pixels wide, by 4 pixels tall,</p><p>举例，假设元数据说图是 4像素宽 x 4像素高</p></div>	
<div class='layout'><p>with a 24-bit color depth that's 8-bits for red, 8-bits for green, and 8-bits for blue.</p><p>颜色深度 24 位， 8 位红色，8 位绿色，8 位蓝色</p></div>	
<div class='layout'><p>As a reminder, 8 bits is the same as one byte.</p><p>提醒一下，8位 (bit) 和 1字节(byte)是一回事</p></div>	
<div class='layout'><p>The smallest number a byte can store is 0, and the largest is 255.</p><p>一个字节能表示的最小数是 0，最大 255</p></div>	
<div class='layout'><p>Our image data is going to look something like this:</p><p>图像数据看起来会类似这样：</p></div>	
<div class='layout'><p>Let's look at the color of our first pixel.</p><p>来看看第一个像素的颜色</p></div>	
<div class='layout'><p>It has 255 for its red value, 255 for green and 255 for blue.</p><p>红色是255，绿色是255，蓝色也是255</p></div>	
<div class='layout'><p>This equates to full intensity red, full intensity green and full intensity blue.</p><p>这等同于全强度红色，全强度绿色和全强度蓝色</p></div>	
<div class='layout'><p>These colors blend together on your computer monitor to become white.</p><p>混合在一起变成白色</p></div>	
<div class='layout'><p>So our first pixel is white!</p><p>所以第一个像素是白色！</p></div>	
<div class='layout'><p>The next pixel has a Red-Green-Blue, or RGB value of 255, 255, 0.</p><p>下一个像素的红绿蓝值，或 RGB 值，255，255，0 </p></div>	
<div class='layout'><p>That's the color yellow!</p><p>是黄色！</p></div>	
<div class='layout'><p>The pixel after that has a RGB value of 0,0,0 that's zero intensity everything, which is black.</p><p>下一个像素是 0，0，0 ，黑色</p></div>	
<div class='layout'><p>And the next one is yellow.</p><p>下一个是黄色</p></div>	
<div class='layout'><p>Because the metadata specified this was a 4 by 4 image, we know that we've reached</p><p>因为元数据说图片是 4x4，</p></div>	
<div class='layout'><p>the end of our first row of pixels.</p><p>我们知道现在到了第一行结尾</p></div>	
<div class='layout'><p>So, we need to drop down a row.</p><p>所以换一行</p></div>	
<div class='layout'><p>The next RGB value is 255,255,0 yellow again.</p><p>下一个 RGB 值是 255，255，0，又是黄色</p></div>	
<div class='layout'><p>Okay, let's go ahead and read all the pixels in our 4x4 image tada!</p><p>好，我们读完剩下的像素</p></div>	
<div class='layout'><p>A very low resolution pac-man!</p><p>一个低分辨率的吃豆人</p></div>	
<div class='layout'><p>Obviously this is a simple example of a small image,</p><p>刚才显然只是一个简单例子，</p></div>	
<div class='layout'><p>but we could just as easily store this image in a BMP.</p><p>但这张图片也可以用 BMP 存</p></div>	
<div class='layout'><p>I want to emphasize again that it doesn't matter if it's a text file, WAV,</p><p>我想再次强调，不管是文本文件，WAV，BMP</p></div>	
<div class='layout'><p>BMP, or fancier formats we don't have time to discuss,</p><p>或是我们没时间讨论的其他格式</p></div>	
<div class='layout'><p>Under the hood, they're all the same: long lists of numbers, stored as binary, on a storage device.</p><p>文件在底层全是一样的： 一长串二进制</p></div>	
<div class='layout'><p>File formats are the key to reading and understanding the data inside.</p><p>为了知道文件是什么，文件格式至关重要</p></div>	
<div class='layout'><p>Now that you understand files a little better, let's move on to</p><p>现在你对文件更了解了，</p></div>	
<div class='layout'><p>how computers go about storing them.</p><p>我们接下来讨论计算机怎么存文件</p></div>	
<div class='layout'><p>Even though the underlying storage medium might be</p><p>虽然硬件可能是</p></div>	
<div class='layout'><p>a strip of tape, a drum, a disk, or integrated circuits...</p><p>磁带，磁鼓，磁盘或集成电路</p></div>	
<div class='layout'><p>hardware and software abstractions let us think of storage as a</p><p>通过软硬件抽象后，</p></div>	
<div class='layout'><p>long line of little buckets that store values.</p><p>可以看成一排能存数据的桶</p></div>	
<div class='layout'><p>In the early days, when computers only performed one computation</p><p>在很早期时，计算机只做一件事，</p></div>	
<div class='layout'><p>like calculating artillery range tables. the entire storage operated like one big file.</p><p>比如算火炮射程表，整个储存器就像一整个文件</p></div>	
<div class='layout'><p>Data started at the beginning of storage, and then filled it up in order as output was</p><p>数据从头存到尾，</p></div>	
<div class='layout'><p>produced, up to the storage capacity.</p><p>直到占满</p></div>	
<div class='layout'><p>However, as computational power and storage capacity improved, it became possible, and</p><p>但随着计算能力和存储容量的提高，</p></div>	
<div class='layout'><p>useful, to store more than one file at a time.</p><p>存多个文件变得非常有用</p></div>	
<div class='layout'><p>The simplest option is to store files back-to-back.</p><p>最简单的方法  是把文件连续存储</p></div>	
<div class='layout'><p>This can work... but how does the computer know where files begin and end?</p><p>这样能用，但怎么知道文件开头和结尾在哪里？</p></div>	
<div class='layout'><p>Storage devices have no notion of files C they're just a mechanism for storing lots of bits.</p><p>储存器没有文件的概念，只是存储大量位</p></div>	
<div class='layout'><p>So, for this to work, we need to have a special file that records where other ones are located.</p><p>所以为了存多个文件，需要一个特殊文件，记录其他文件的位置</p></div>	
<div class='layout'><p>This goes by many names, but a good general term is Directory File.</p><p>这个特殊文件有很多名字，这里泛称 "目录文件"</p></div>	
<div class='layout'><p>Most often, it's kept right at the front of storage, so we always know where to access it.</p><p>这个文件经常存在最开头，方便找</p></div>	
<div class='layout'><p>Location zero!</p><p>位置 0！</p></div>	
<div class='layout'><p>Inside the Directory File are the names of all the other files in storage.</p><p>目录文件里，存所有其他文件的名字</p></div>	
<div class='layout'><p>In our example, they each have a name, followed by a period</p><p>格式是文件名 + 一个句号 + </p></div>	
<div class='layout'><p>and end with what's called a File Extension, like "BMP" or "WAV".</p><p>扩展名，比如 BMP 或 WAV</p></div>	
<div class='layout'><p>Those further assist programs in identifying file types.</p><p>扩展名帮助得知文件类型</p></div>	
<div class='layout'><p>The Directory File also stores metadata about these files, like when they were created and</p><p>目录文件还存文件的元数据，比如创建时间</p></div>	
<div class='layout'><p>last modified, who the owner is, and if it can be read, written or both.</p><p>最后修改时间，文件所有者是谁，是否能读/写  或读写都行</p></div>	
<div class='layout'><p>But most importantly, the directory file contains where these files</p><p>最重要的是，目录文件有</p></div>	
<div class='layout'><p>begin in storage, and how long they are.</p><p>文件起始位置和长度</p></div>	
<div class='layout'><p>If we want to add a file, remove a file, change a filename, or similar,</p><p>如果要添加文件，删除文件，更改文件名等</p></div>	
<div class='layout'><p>we have to update the information in the Directory File.</p><p>必须更新目录文件</p></div>	
<div class='layout'><p>It's like the Table of Contents in a book, if you make a chapter shorter, or move it</p><p>就像书的目录，如果缩短或移动了一个章节，</p></div>	
<div class='layout'><p>somewhere else, you have to update the table of contents, otherwise the page numbers won't match!</p><p>要更新目录，不然页码对不上</p></div>	
<div class='layout'><p>The Directory File, and the maintenance of it, is an example of a very basic File System,</p><p>目录文件，以及对目录文件的管理，是一个非常简单的文件系统例子</p></div>	
<div class='layout'><p>the part of an Operating System that manages and keep track of stored files.</p><p>文件系统专门负责管理文件</p></div>	
<div class='layout'><p>This particular example is a called a Flat File System, because they're all stored at one level.</p><p>刚刚的例子叫"平面文件系统" ，因为文件都在同一个层次</p></div>	
<div class='layout'><p>It's flat!</p><p>平的！</p></div>	
<div class='layout'><p>Of course, packing files together, back-to-back, is a bit of a problem,</p><p>当然，把文件前后排在一起  有个问题</p></div>	
<div class='layout'><p>because if we want to add some data to let's say "todo.txt",</p><p>如果给 todo.txt 加一点数据，</p></div>	
<div class='layout'><p>there's no room to do it without overwriting part of "carrie.bmp".</p><p>会覆盖掉后面 carrie.bmp 的一部分</p></div>	
<div class='layout'><p>So modern File Systems do two things.</p><p>所以现代文件系统会做两件事</p></div>	
<div class='layout'><p>First, they store files in blocks.</p><p>1 把空间划分成一块块，</p></div>	
<div class='layout'><p>This leaves a little extra space for changes, called slack space.</p><p>导致有一些 "预留空间" 可以方便改动</p></div>	
<div class='layout'><p>It also means that all file data is aligned to a common size, which simplifies management.</p><p>同时也方便管理</p></div>	
<div class='layout'><p>In a scheme like this, our Directory File needs to keep track of</p><p>用这样的方案，</p></div>	
<div class='layout'><p>what block each one is stored in.</p><p>目录文件要记录文件在哪些块里</p></div>	
<div class='layout'><p>The second thing File Systems do, is allow files to be broken up into chunks</p><p>2 拆分文件，</p></div>	
<div class='layout'><p>and stored across many blocks.</p><p>存在多个块里</p></div>	
<div class='layout'><p>So let's say we open "todo.txt", and we add a few more items then the file becomes</p><p>假设打开 todo.txt 加了些内容，</p></div>	
<div class='layout'><p>too big to be saved in its one block.</p><p>文件太大存不进一块里</p></div>	
<div class='layout'><p>We don't want to overwrite the neighboring one, so instead, the File System allocates</p><p>我们不想覆盖掉隔壁的块，所以文件系统会分配，</p></div>	
<div class='layout'><p>an unused block, which can accommodate extra data.</p><p>一个没使用的块，容纳额外的数据</p></div>	
<div class='layout'><p>With a File System scheme like this, the Directory File needs to store</p><p>目录文件会记录不止一个块，</p></div>	
<div class='layout'><p>not just one block per file, but rather a list of blocks per file.</p><p>而是多个块</p></div>	
<div class='layout'><p>In this way, we can have files of variable sizes that can be easily</p><p>只要分配块，</p></div>	
<div class='layout'><p>expanded and shrunk, simply by allocating and deallocating blocks.</p><p>文件可以轻松增大缩小</p></div>	
<div class='layout'><p>If you watched our episode on Operating Systems, this should sound a lot like Virtual Memory.</p><p>如果你看了第18集 操作系统，这听起来很像"虚拟内存"</p></div>	
<div class='layout'><p>Conceptually it's very similar!</p><p>概念上讲的确很像！</p></div>	
<div class='layout'><p>Now let's say we want to delete "carrie.bmp".</p><p>假设想删掉 carrie.bmp，</p></div>	
<div class='layout'><p>To do that, we can simply remove the entry from the Directory File.</p><p>只需要在目录文件删掉那条记录</p></div>	
<div class='layout'><p>This, in turn, causes one block to become free.</p><p>让一块空间变成了可用</p></div>	
<div class='layout'><p>Note that we didn't actually erase the file's data in storage, we just deleted the record of it.</p><p>注意这里没有擦除数据，只是把记录删了</p></div>	
<div class='layout'><p>At some point, that block will be overwritten with new data, but until then, it just sits there.</p><p>之后某个时候，那些块会被新数据覆盖，但在此之前，数据还在原处</p></div>	
<div class='layout'><p>This is one way that computer forensic teams can "recover" data from computers even</p><p>所以计算机取证团队可以"恢复"数据</p></div>	
<div class='layout'><p>though people think it has been deleted. Crafty!</p><p>虽然别人以为数据已经"删了"， 狡猾！</p></div>	
<div class='layout'><p>Ok, let's say we add even more items to our todo list, which causes the File System</p><p>假设往 todo.txt 加了更多数据，</p></div>	
<div class='layout'><p>to allocate yet another block to the file, in this case,</p><p>所以操作系统分配了一个新块，</p></div>	
<div class='layout'><p>recycling the block freed from carrie.bmp.</p><p>用了刚刚 carrie.bmp 的块</p></div>	
<div class='layout'><p>Now our "todo.txt" is stored across 3 blocks, spaced apart, and also out of order.</p><p>现在 todo.txt 在 3 个块里，隔开了，顺序也是乱的</p></div>	
<div class='layout'><p>Files getting broken up across storage like this is called fragmentation.</p><p>这叫碎片</p></div>	
<div class='layout'><p>It's the inevitable byproduct of files being created, deleted and modified.</p><p>碎片是增/删/改文件导致的，不可避免</p></div>	
<div class='layout'><p>For many storage technologies, this is bad news.</p><p>对很多存储技术来说，碎片是坏事</p></div>	
<div class='layout'><p>On magnetic tape, reading todo.txt into memory would require</p><p>如果 todo.txt 存在磁带上，读取文件要</p></div>	
<div class='layout'><p>seeking to block 1, then fast forwarding to block 5, and then rewinding to block 3</p><p>先读块1， 然后快进到块5，然后往回转到块2</p></div>	
<div class='layout'><p>that's a lot of back and forth!</p><p>来回转个半天</p></div>	
<div class='layout'><p>In real world File Systems, large files might be stored across hundreds of blocks,</p><p>现实世界中，大文件可能存在数百个块里</p></div>	
<div class='layout'><p>and you don't want to have to wait five minutes for your files to open.</p><p>你可不想等五分钟才打开文件</p></div>	
<div class='layout'><p>The answer is defragmentation!</p><p>答案是碎片整理！</p></div>	
<div class='layout'><p>That might sound like technobabble, but the process is really simple,</p><p>这个词听起来好像很复杂，但实际过程很简单</p></div>	
<div class='layout'><p>and once upon a time it was really fun to watch!</p><p>以前看计算机做碎片整理 真的很有趣！</p></div>	
<div class='layout'><p>The computer copies around data so that files have blocks located together</p><p>计算机会把数据来回移动，</p></div>	
<div class='layout'><p>in storage and in the right order.</p><p>排列成正确的顺序</p></div>	
<div class='layout'><p>After we've defragged, we can read our todo file,</p><p>整理后 todo.txt 在 1 2 3，</p></div>	
<div class='layout'><p>now located in blocks 1 through 3, in a single, quick read pass.</p><p>方便读取.</p></div>	
<div class='layout'><p>So far, we've only been talking about Flat File Systems,</p><p>目前只说了平面文件系统，</p></div>	
<div class='layout'><p>where they're all stored in one directory.</p><p>文件都在同一个目录里.</p></div>	
<div class='layout'><p>This worked ok when computers only had a little bit of storage,</p><p>如果存储空间不多，这可能就够用了，</p></div>	
<div class='layout'><p>and you might only have a dozen or so files.</p><p>因为只有十几个文件</p></div>	
<div class='layout'><p>But as storage capacity exploded, like we discussed last episode,</p><p>但上集说过，容量爆炸式增长，</p></div>	
<div class='layout'><p>so did the number of files on computers.</p><p>文件数量也飞速增长</p></div>	
<div class='layout'><p>Very quickly, it became impractical to store all files together at one level.</p><p>很快，所有文件都存在同一层变得不切实际</p></div>	
<div class='layout'><p>Just like documents in the real world, it's handy to store related files together in folders.</p><p>就像现实世界，相关文件放在同一个文件夹会方便很多</p></div>	
<div class='layout'><p>Then we can put connected folders into folders, and so on.</p><p>然后文件夹套文件夹.</p></div>	
<div class='layout'><p>This is a Hierarchical File System, and its what your computer uses.</p><p>这叫"分层文件系统"，你的计算机现在就在用这个.</p></div>	
<div class='layout'><p>There are a variety of ways to implement this, but let's stick with the File System example</p><p>实现方法有很多种，</p></div>	
<div class='layout'><p>we've been using to convey the main idea.</p><p>我们用之前的例子来讲重点好了</p></div>	
<div class='layout'><p>The biggest change is that our Directory File needs to be able to point not just to files,</p><p>最大的变化是 目录文件不仅要指向文件，</p></div>	
<div class='layout'><p>but also other directories.</p><p>还要指向目录</p></div>	
<div class='layout'><p>To keep track of what's a file and what's a directory, we need some extra metadata.</p><p>我们需要额外元数据  来区分开文件和目录，</p></div>	
<div class='layout'><p>This Directory File is the top-most one, known as the Root Directory.</p><p>这个目录文件在最顶层，因此叫根目录</p></div>	
<div class='layout'><p>All other files and folders lie beneath this directory along various file paths.</p><p>所有其他文件和文件夹，都在根目录下</p></div>	
<div class='layout'><p>We can see inside of our "Root" Directory File that we have 3 files</p><p>图中可以看到根目录文件有3个文件，</p></div>	
<div class='layout'><p>and 2 subdirectories: music and photos.</p><p>2个子文件夹："音乐"和"照片"</p></div>	
<div class='layout'><p>If we want to see what's stored in our music directory, we have to go to that block and</p><p>如果想知道"音乐"文件夹里有什么，</p></div>	
<div class='layout'><p>read the Directory File located there; the format is the same as our root directory.</p><p>必须去那边读取目录文件（格式和根目录文件一样）</p></div>	
<div class='layout'><p>There's a lot of great songs in there!</p><p>有很多好歌啊！</p></div>	
<div class='layout'><p>In addition to being able to create hierarchies of unlimited depth,</p><p>除了能做无限深度的文件夹，</p></div>	
<div class='layout'><p>this method also allows us to easily move around files.</p><p>这个方法也让我们可以轻松移动文件</p></div>	
<div class='layout'><p>So, if we wanted to move "theme.wav" from our root directory to the music directory,</p><p>如果想把 theme.wav 从根目录移到音乐目录</p></div>	
<div class='layout'><p>we don't have to re-arrange any blocks of data.</p><p>不用移动任何数据块</p></div>	
<div class='layout'><p>We can simply modify the two Directory Files, removing an entry from one and adding it to another.</p><p>只需要改两个目录文件，一个文件里删一条记录，另一个文件里加一条记录</p></div>	
<div class='layout'><p>Importantly, the theme.wav file stays in block 5.</p><p>theme.wav 依然在块5</p></div>	
<div class='layout'><p>So that's a quick overview of the key principles of File Systems.</p><p>文件系统的几个重要概念  现在介绍完了.</p></div>	
<div class='layout'><p>They provide yet another way to move up a new level of abstraction.</p><p>它提供了一层新抽象！</p></div>	
<div class='layout'><p>File systems allow us to hide the raw bits stored on magnetic tape, spinning disks and</p><p>文件系统使我们不必关心，文件在磁带或磁盘的具体位置</p></div>	
<div class='layout'><p>the like, and they let us think of data as neatly organized and easily accessible files.</p><p>整理和访问文件更加方便</p></div>	
<div class='layout'><p>We even started talking about users, not programmers, manipulating data,</p><p>我们像普通用户一样直观操纵数据，</p></div>	
<div class='layout'><p>like opening files and organizing them,</p><p>比如打开和整理文件</p></div>	
<div class='layout'><p>foreshadowing where the series will be going in a few episodes.</p><p>接下来几集也会从用户角度看问题</p></div>	
<div class='layout'><p>I'll see  you next week.</p><p>下周见</p></div>	
<div class='layout'><p>This episode is brought to you by Curiosity Stream.</p><p>本集由 Curiosity Stream 赞助播出</p></div>	
﻿
</div> <!--container-->
<div>
<a id="ftsizea" onclick='document.getElementById("container").style.fontSize = "1.4em";' target="_self" style="color:#fff;" title="大：1.4em"><div id="ftsize1" style="color:#fff;">大</div></a>
<a id="ftsizea" onclick='document.getElementById("container").style.fontSize = "1.2em";' target="_self" style="color:#fff;" title="中：1.2em"><div id="ftsize2" style="color:#fff;">中</div></a>
<a id="ftsizea" onclick='document.getElementById("container").style.fontSize = "1.0em";' target="_self" style="color:#fff;" title="小：1em"><div id="ftsize3" style="color:#fff;">小</div></a>
<a id="fPagea" href="index.html" target="_self"><div id="fPage" style="color:#fff;">上<br>一<br>章</div></a>
<a href="index.html" target="_self"><div id="menuPage" style="color:#fff;">目<br>录</div></a>
<a id="LPagea" href="javascript:void(null)" target="_self"><div id="lPage" style="color:#fff;">下<br>一<br>章</div></a>
<a target="_self" style="color:#fff;"><div style="display:none; color:#fff;" id="goTopBtn">&and;</div></a>
<a onclick="shangy()" target="_self" style="color:#fff;"><div style="display:none; color:#fff;" id="shangy">&uarr;</div></a>
<a onclick="xiay()" target="_self" style="color:#fff;"><div id="xiay" style="color:#fff;">&darr;</div></a>
<a onclick="downn()" target="_self" style="color:#fff;"><div id="goBottom" style="color:#fff;">&or;</div></a>
<script type=text/javascript>
	goTopEx();
	function xiay(){
		window.scrollBy(0,window.innerHeight-10);
	}
	function shangy(){
		window.scrollBy(0,-window.innerHeight+10);
	}
	var obj3=document.getElementById("xiay");
	var obj4=document.getElementById("goBottom");
	function getHeight(){  
		if(browser4=="ch"){
			//谷歌浏览器  
			return document.body.clientHeight; 
		}else{
			//IE、firefox等浏览器 
			return document.documentElement.clientHeight;  
		}  
	}
	getHeight()<window.innerHeight+50?obj3.style.display="none":obj3.style.display="";
	getHeight()<window.innerHeight+50?obj4.style.display="none":obj4.style.display="";
	if(browser4!="ch"){	//firefox需要尝一下才显示向下图标
		xiay();
		shangy();
	}
	//上一页、下一页按钮，需要文件名是数字
	var strUrl=window.location.href;
	var arrUrl=strUrl.split("/");
	var thispage=arrUrl[arrUrl.length-1];
	var thispage2=thispage.split(".");
	var thispage3=thispage2[thispage2.length-2];
	if(thispage3 == 0){
		var obj5=document.getElementById("fPage");
		obj5.style.display="none";
	}else{
		var fpage = thispage3 - 1;
		fpage = fpage +".html";
		document.getElementById("fPagea").href=fpage;
	}
	if(thispage3 == 100){
		var obj6=document.getElementById("lPage");
		obj6.style.display="none";
	}else{
		var fpage = parseInt(thispage3) + 1;
		fpage = fpage +".html";
		document.getElementById("LPagea").href=fpage;
	}
</script>
</div>
</body>
</html>
