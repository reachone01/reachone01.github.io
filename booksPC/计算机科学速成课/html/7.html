<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<base target="_blank" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title></title>
<script type="text/javascript">
var userAgent = navigator.userAgent.toLowerCase();
var browser = 
	(browser = userAgent.match(/qqbrowser\/([\d.]+)/))?"qqbrowser/"+browser[1]:
	(browser = userAgent.match(/se\s+2.x/))?"sogou/2.x": //sougou
	(browser = userAgent.match(/msie\s+([\d.]+)/))?"msie/"+browser[1]: //ie
	(browser = userAgent.match(/chrome\/([\d.]+)/))?"chrome/"+browser[1]: //chrome
	(browser = userAgent.match(/firefox\/([\d.]+)/))?"firefox/"+browser[1]: //firefox
	(browser = userAgent.match(/version\/([\d.]+)\s+safari\/([\d.]+)/))?"safari/"+browser[1]: //safari
	(browser = userAgent.match(/opera\/([\d.]+)([\w\W]+)version\/([\d.]+)/))?"opera/"+browser[3]: //opera
	"other browser";
	var browser4 = browser.substr(0,2);
//实现回到页面顶部  
function goTopEx(){  
	var obj=document.getElementById("goTopBtn"); 
	var obj2=document.getElementById("shangy"); 
	var obj3=document.getElementById("xiay");
	var obj4=document.getElementById("goBottom");  
	
	function getScrollTop(){  
		if(browser4=="ch"){
			//谷歌浏览器  
			return document.documentElement.scrollTop; 
		}else{
			//IE、firefox等浏览器 
			return document.documentElement.scrollTop;  
		}  
	}
	function setScrollTop(value){ 
		if(browser4=="ch"){ 
			//谷歌浏览器  
			document.documentElement.scrollTop=value; 
		}else{  
			//IE、firefox等浏览器
			document.documentElement.scrollTop=value;  
		} 
	}     
	window.onscroll=function(){getScrollTop()>50?obj.style.display="":obj.style.display="none";
	getScrollTop()>100?obj2.style.display="":obj2.style.display="none";
	document.body.clientHeight-getScrollTop()>650?obj3.style.display="":obj3.style.display="none";
	document.body.clientHeight-getScrollTop()>650?obj4.style.display="":obj4.style.display="none";
	}  
	obj.onclick=function(){  
		var goTop=setInterval(scrollMove,10);  
		function scrollMove(){  
				setScrollTop(getScrollTop()/1.1);  
				if(getScrollTop()<1)clearInterval(goTop);  
		}  
	}  
}  
function downn(){
	if(browser4=="ch"){
		//谷歌浏览器  
		window.scrollBy(0,document.body.clientHeight);
	}else{
		//IE、firefox等浏览器  
		window.scrollBy(0,document.documentElement.clientHeight*1000); 
	}
}
function changePage(){ 
	var page = document.getElementById("container");
	page.style.background="black";
	page.style.color="white";
	page.style.fontSize="22px";
	page.style.fontFamily="MV boli";
}
</script>
<script>
document.write('<div style="position:fixed; right: 10px; top:20px; color:#eee;">背景颜色<br><select name=bcolor id=bcolor onchange="javascript:document.body.style.background=this.options[this.selectedIndex].value;"><option style="background-color: #ffffff" value="#ffffff">白色</option><option style="background-color: #f6f6f6" value="#f6f6f6">银灰</option><option style="background-color: #e4ebf1" value="#e4ebf1">淡蓝</option><option style="background-color: #e6f3ff" value="#e6f3ff">蓝色</option> <option style="background-color: #eeeeee" value="#eeeeee">淡灰</option><option style="background-color: #eaeaea" value="#eaeaea">灰色</option>  <option style="background-color: #e4e1d8" value="#e4e1d8">深灰</option><option style="background-color: #e6e6e6" value="#e6e6e6">暗灰</option><option style="background-color: #eefaee" value="#eefaee">绿色</option><option style="background-color: #ffffed" value="#ffffed">明黄</option><option style="background-color: #333333" value="#333333">黑色</option></select><br>字体颜色<br><select name=txtcolor id=txtcolor onchange="javascript:document.getElementById(\'container\').style.color=this.options[this.selectedIndex].value;"> <option value="#000000">黑色</option><option value="#ff0000" style="color:red;">红色</option><option value="#006600" style="color:green;">绿色</option><option value="#0000ff" style="color:blue;">蓝色</option><option value="#660000" style="color:#006600;">棕色</option><option value="#ffffff">白色</option></select><br>字体大小<br><select name=fontsize id=fonttype onchange="javascript:document.getElementById(\'container\').style.fontSize=this.options[this.selectedIndex].value;"> <option value="12px" >小号</option> <option value="14px" >较小</option> <option value="19px" >中号</option> <option value="19px" >默认</option><option value="22px" >较大</option><option value="25px" >大号</option><option value="35px" >35px</option><option value="45px" >45px</option><option value="55px" >55px</option><option value="65px" >65px</option><option value="75px" >75px</option><option value="85px" >85px</option><option value="95px" >95px</option></select>><br>字体类型<br><select name=fonttype id=fonttype onchange="javascript:document.getElementById(\'container\').style.fontFamily=this.options[this.selectedIndex].value;"> <option value="宋体" >宋体</option> <option value="MV boli" style="font-family:MV boli">MV boli</option> <option value="隶书" style="font-family:隶书">隶书</option> <option value="黑体" style="font-family:黑体">黑体</option><option value="楷体" style="font-family:楷体">楷体</option><option value="幼圆" style="font-family:幼圆">幼圆</option><option value="华文中宋" style="font-family:华文中宋">华文中宋</option><option value="华文行楷" style="font-family:华文行楷">华文行楷</option><option value="微软雅黑" style="font-family:微软雅黑">微软雅黑</option><option value="Arial" style="font-family:Arial">Arial</option><option value="Vrinda" style="font-family:Vrinda">Vrinda</option><option value="Tahoma" style="font-family:Tahoma">Tahoma</option><option value="Courier" style="font-family:Courier">Courier</option><option value="Times" style="font-family:Times">Times</option><option value="Georgia" style="font-family:Georgia">Georgia</option><option value="Lucida" style="font-family:Lucida">Lucida</option></select><br><a onClick="changePage()" target="_self" id="changepage">黑底白字</a></div>');   
</script>
<style type="text/css">
#tbrowser a:link，#container a:visited{
	font-size:18px;
	text-decoration:none;
}
a:link{
	text-decoration:none;
	}
#container{
	font-size:1.2em;
	margin:auto;
	font-family:"宋体";
	width:85.29%;
	line-height:1.6em;
	overflow:hidden;
}
P{
	margin-top:16px;
	margin-bottom:16px;
	text-indent:2em;
}
.uls{
	color:#CC6666;
	font-weight:bold;
}
.uls>ol{
	list-style:none;
	font-weight:normal;
	list-style:lower-latin;
	color:#000000;
	line-height:1.3em;
}
h2{
	font-size:20px;
	font-weight:bold;
	margin-top:15px;
	margin-bottom:0px;
	text-indent:0em;
}
#goTopBtn, #goBottom, #shangy, #xiay, #menuPage, #lPage, #fPage, #ftsize1, #ftsize2, #ftsize3{
	width: 18px;
    line-height: 1.2;
    padding: 5px 0;
    font-size: 12px;
    text-align: center;
    position: fixed;
	right: 10px;
    cursor: pointer;
    filter: Alpha(opacity=30);
	opacity=.3;
	font-weight:bold;
}
#goTopBtn, #goBottom, #menuPage, #lPage, #fPage, #ftsize1, #ftsize3{
    background-color:#999;
    color:#000;
}
#shangy, #xiay, #lPage, #fPage, #ftsize, #ftsize2{
    background-color: #bbb;
    color: #000;
}
#fPage{
	bottom: 236px;
	height:42px;
	white-space:nowrap;
	overflow:hidden;
	//writing-mode:tb-rl;
}
#menuPage{
	bottom: 198px;
	height:27px;
	white-space:nowrap;
	overflow:hidden;
}
#lPage{
	bottom: 145px;
	height:42px;
	white-space:nowrap;
	overflow:hidden;
}
#ftsize1{
	bottom:360px;
}
#ftsize2{
	bottom:334px;
}
#ftsize3{
	bottom:308px;
}
#goTopBtn{
    bottom: 105px;
}
#goBottom {
    bottom: 30px;
}
#shangy {
    bottom: 80px;
}
#xiay {
    bottom: 55px;
}
#goTopBtn:hover, #goBottom:hover, #shangy:hover, #xiay:hover, #menuPage:hover, #lPage:hover, #fPage:hover, #ftsize1:hover, #ftsize2:hover, #ftsize3:hover{
	background-color:#ccc;
	border:#ccc 0px solid;
}
#goTopBtn a:link, #goBottom a:link, #xiay a:link, #shangy a:link, #menuPage a:link, #ftsize1 a:link, #ftsize2 a:link, #ftsize3 a:link, #menuPage a:visited, #lPage a:link, #fPage a:link, #lPage a:visited, #fPage a:visited {
	text-decoration: none;
	color:white;
}
img{
	margin-right:2em;
	text-indent:2em;
	border:0;
}
.picsay{
	color:#930;
	font-size:90%;
	line-height:110%;
	margin-top:-12px;
	padding:0;
}
.remark{
	color:#930;
	font-size:90%;
	line-height:140%;
	margin-top:-12px;
	text-indent:0em;
	padding:0;
}
.ref{
	color:#930;
	font-size:95%;
	line-height:150%;
	margin-top:-12px;
	text-indent:2em;
	padding:0;
}
.code0, .code2, .code4{
	font-size:90%;
	line-height:110%;
	margin-top:-12px;
	padding:0;
}
.code0{
	color:red;
	text-indent:0em;
}
.code2{
	color:#930;
	text-indent:2em;
}
.code4{
	color:blue;
	text-indent:4em;
}
sub,sup{
	font-size:80%;
	color:red;
}
.layout, .layout2{
    clear:both;
	width:95%;
	border:1px dotted #eee;
	margin:auto;
	margin-bottom:5px;
	overflow:hidden;
}
.layout2 .right, .layout2 .left, .layout p{
margin-bottom:-55px;
padding-bottom:55px;
text-align: justify;
margin:0;
padding:0;
margin-left:1%;
margin-right:1%;
}
.layout2 .left, .layout p{
float:left;
width:60%;
font-size:1.0em;
}
.layout2 .right,  .layout p+p {
	float: left;
	width:34%;
	border-left:1px dotted #cccccc;
	font-size:0.9em;
	padding-left:1%;
	
}
.layout2 .right p, .layout2 .left p, .layout p{
padding-bottom:5px;
}
h3{
text-indent:3%;
font-size:1em;
height:2.0em;
padding:0;
margin:0;
}
</style>
</head>
<body>
<div id="container">
﻿<div class='layout'><p>7 The Central Processing Unit(CPU)</p><p>7 中央处理器</p></div>	
<div class='layout'><p>Hi, I'm Carrie Anne, this is Crash Course Computer Science</p><p>嗨，我是CarrieAnne，欢迎收看计算机科学速成课！</p></div>	
<div class='layout'><p>and today, we're talking about processors.</p><p>今天我们讲处理器</p></div>	
<div class='layout'><p>Just a warning though this is probably the most complicated episode in the series.</p><p>提示下这集可能是最难的一集</p></div>	
<div class='layout'><p>So once you get this, you're golden.</p><p>所以一旦你理解了，就会变得超厉害der~</p></div>	
<div class='layout'><p>We've already made a Arithmetic and Logic Unit,</p><p>我们已经做了一个算术逻辑单元（ALU）</p></div>	
<div class='layout'><p>which takes in binary numbers and performs calculations,</p><p>输入二进制，它会执行计算</p></div>	
<div class='layout'><p>and we've made two types of computer memory:</p><p>我们还做了两种内存：</p></div>	
<div class='layout'><p>Registers -small, linear chunks of memory, useful for storing a single value</p><p>寄存器很小的一块内存，能存一个值</p></div>	
<div class='layout'><p>and then we scaled up, and made some RAM,</p><p>之后我们增大做出了RAM</p></div>	
<div class='layout'><p>a larger bank of memory that can store a lot of numbers located at different addresses.</p><p>RAM是一大块内存，能在不同地址存大量数字</p></div>	
<div class='layout'><p>Now it's time to put it all together and build ourselves the heart of any computer,</p><p>现在是时候把这些放在一起，组建计算机的"心脏"了</p></div>	
<div class='layout'><p>but without any of the emotional baggage that comes with human hearts.</p><p>但这个"心脏"不会有任何包袱，比如人类情感.</p></div>	
<div class='layout'><p>For computers, this is the Central Processing Unit, most commonly called the CPU.</p><p>计算机的心脏是"中央处理单元"，简称"CPU"</p></div>	
<div class='layout'><p>A CPU's job is to execute programs.</p><p>CPU负责执行程序</p></div>	
<div class='layout'><p>Programs, like Microsoft Office, Safari, or your beloved copy of Half Life: 2,</p><p>比如Office，Safari浏览器，你最爱的《半条命2》</p></div>	
<div class='layout'><p>are made up of a series of individual operations,</p><p>程序由一个个操作组成</p></div>	
<div class='layout'><p>called instructions, because they "instruct" the computer what to do.</p><p>这些操作叫"指令"<sup>(Instruction)</sup>，因为它们"指示"计算机要做什么</p></div>	
<div class='layout'><p>If these are mathematical instructions, like add or subtract,</p><p>如果是数学指令，比如加/减</p></div>	
<div class='layout'><p>the CPU will configure its ALU to do the mathematical operation.</p><p>CPU会让ALU进行数学运算</p></div>	
<div class='layout'><p>Or it might be a memory instruction,</p><p>也可能是内存指令，</p></div>	
<div class='layout'><p>in which case the CPU will talk with memory to read and write values.</p><p>CPU会和内存通信，然后读/写值</p></div>	
<div class='layout'><p>There are a lot of parts in a CPU,</p><p>CPU里有很多组件.</p></div>	
<div class='layout'><p>so we're going to lay it out piece by piece, building up as we go.</p><p>所以我们一边说一边建</p></div>	
<div class='layout'><p>We'll focus on functional blocks, rather than showing every single wire.</p><p>我们把重点放在功能，而不是一根根线具体怎么连</p></div>	
<div class='layout'><p>When we do connect two components with a line,</p><p>当我们用一条线连接两个组件时</p></div>	
<div class='layout'><p>this is an abstraction for all of the necessary wires.</p><p>这条线只是所有必须线路的一个抽象</p></div>	
<div class='layout'><p>This high level view is called the microarchitecture.</p><p>这种高层次视角叫"微体系架构"</p></div>	
<div class='layout'><p>OK, first, we're going to need some memory.</p><p>好，我们首先要一些内存，</p></div>	
<div class='layout'><p>Lets drop in the RAM module we created last episode.</p><p>把上集做的RAM拿来就行</p></div>	
<div class='layout'><p>To keep things simple, we'll assume it only has 16 memory locations, each containing 8 bits.</p><p>为了保持简单，假设它只有16个位置，每个位置存8位</p></div>	
<div class='layout'><p>Let's also give our processor four, 8-bit memory registers, labeled A, B, C and D</p><p>再来四个8位寄存器，叫A，B，C，D</p></div>	
<div class='layout'><p>which will be used to temporarily store and manipulate values.</p><p>寄存器用来临时存数据和操作数据</p></div>	
<div class='layout'><p>We already know that data can be stored in memory as binary values</p><p>我们已经知道数据是以二进制值存在内存里</p></div>	
<div class='layout'><p>and programs can be stored in memory too.</p><p>程序也可以存在内存里</p></div>	
<div class='layout'><p>We can assign an ID to each instruction supported by our CPU.</p><p>我们可以给CPU支持的所有指令，分配一个ID</p></div>	
<div class='layout'><p>In our hypothetical example, we use the first four bits to store the "operation code",</p><p>在这个假设的例子，我们用前四位存"操作代码"（operationcode）</p></div>	
<div class='layout'><p>or opcode for short.</p><p>简称"操作码"（opcode）</p></div>	
<div class='layout'><p>The final four bits specify where the data for that operation should come from -</p><p>后四位代表数据来自哪里</p></div>	
<div class='layout'><p>this could be registers or an address in memory.</p><p>可以是寄存器或内存地址</p></div>	
<div class='layout'><p>We also need two more registers to complete our CPU.</p><p>我们还需要两个寄存器，来完成CPU.</p></div>	
<div class='layout'><p>First, we need a register to keep track of where we are in a program.</p><p>1一个寄存器追踪程序运行到哪里了，</p></div>	
<div class='layout'><p>For this, we use an instruction address register,</p><p>我们叫它"指令地址寄存器"</p></div>	
<div class='layout'><p>which as the name suggests, stores the memory address of the current instruction.</p><p>顾名思义，存当前指令的内存地址</p></div>	
<div class='layout'><p>And then we need the other register to store the current instruction,</p><p>2另一个寄存器存当前指令，</p></div>	
<div class='layout'><p>which we'll call the instruction register.</p><p>叫"指令寄存器"</p></div>	
<div class='layout'><p>When we first boot up our computer, all of our registers start at 0.</p><p>当启动计算机时，所有寄存器从0开始</p></div>	
<div class='layout'><p>As an example, we've initialized our RAM with a simple computer program that we'll to through today.</p><p>为了举例，我们在RAM里放了一个程序，我们今天会过一遍</p></div>	
<div class='layout'><p>The first phase of a CPU's operation is called the fetch phase.</p><p>CPU的第一个阶段叫"取指令阶段"</p></div>	
<div class='layout'><p>This is where we retrieve our first instruction.</p><p>负责拿到指令</p></div>	
<div class='layout'><p>First, we wire our Instruction Address Register to our RAM module.</p><p>首先，将"指令地址寄存器"连到RAM</p></div>	
<div class='layout'><p>The register's value is 0, so the RAM returns whatever value is stored in address 0.</p><p>寄存器的值为0，因此RAM返回地址0的值</p></div>	
<div class='layout'><p>In this case, 0010 1110.</p><p>101110</p></div>	
<div class='layout'><p>Then this value is copied into our instruction register.</p><p>会复制到"指令寄存器"里</p></div>	
<div class='layout'><p>Now that we've fetched an instruction from memory,</p><p>现在指令拿到了</p></div>	
<div class='layout'><p>we need to figure out what that instruction is</p><p>要弄清是什么指令，</p></div>	
<div class='layout'><p>so we can execute it.</p><p>才能执行（execute）</p></div>	
<div class='layout'><p>That is run it.</p><p>只是运行它</p></div>	
<div class='layout'><p>Not kill it.</p><p>而不是杀死（kill）它</p></div>	
<div class='layout'><p>This is called the decode phase.</p><p>这是"解码阶段"</p></div>	
<div class='layout'><p>In this case the opcode, which is the first four bits, is: 0010.</p><p>前4位0010</p></div>	
<div class='layout'><p>This opcode corresponds to the "LOAD A" instruction,</p><p>是LOADA指令</p></div>	
<div class='layout'><p>which loads a value from RAM into Register A.</p><p>意思是，把RAM的值放入寄存器A</p></div>	
<div class='layout'><p>The RAM address is the last four bits of our instruction which are 1110, or 14 in decimal.</p><p>后4位1110是RAM的地址，转成十进制是14</p></div>	
<div class='layout'><p>Next, instructions are decoded and interpreted by a Control Unit.</p><p>接下来，指令由"控制单元"进行解码</p></div>	
<div class='layout'><p>Like everything else we've built, it too is made out of logic gates.</p><p>就像之前的所有东西，"控制单元"也是逻辑门组成的</p></div>	
<div class='layout'><p>For example, to recognize a LOAD A instruction,</p><p>比如，为了识别"LOADA"指令</p></div>	
<div class='layout'><p>we need a circuit that checks if the opcode matches 0010</p><p>需要一个电路，检查操作码是不是0010</p></div>	
<div class='layout'><p>which we can do with a handful of logic gates.</p><p>我们可以用很少的逻辑门来实现.</p></div>	
<div class='layout'><p>Now that we know what instruction we're dealing with,</p><p>现在知道了是什么指令</p></div>	
<div class='layout'><p>we can go ahead and perform that instruction which is the beginning of the execute phase!</p><p>就可以开始执行了，开始"执行阶段"</p></div>	
<div class='layout'><p>Using the output of our LOAD_A checking circuit,</p><p>用"检查是否LOADA指令的电路"</p></div>	
<div class='layout'><p>we can turn on the RAM's read enable line and send in address 14.</p><p>可以打开RAM的"允许读取线"，把地址14传过去</p></div>	
<div class='layout'><p>The RAM retrieves the value at that address, which is 00000011, or 3 in decimal.</p><p>RAM拿到值，00000011，十进制的3</p></div>	
<div class='layout'><p>Now, because this is a LOAD_A instruction,</p><p>因为是LOAD_A指令，</p></div>	
<div class='layout'><p>we want that value to only be saved into Register A and not any of the other registers.</p><p>我们想把这个值只放到寄存器A，其他寄存器不受影响</p></div>	
<div class='layout'><p>So if we connect the RAM's data wires to our four data registers,</p><p>所以需要一根线，把RAM连到4个寄存器</p></div>	
<div class='layout'><p>we can use our LOAD_A check circuit to enable the write enable only for Register A.</p><p>用"检查是否LOAD_A指令的电路"，启用寄存器A的"允许写入线"</p></div>	
<div class='layout'><p>And there you have it</p><p>这就成功了</p></div>	
<div class='layout'><p>we've successfully loaded the value at RAM address 14 into Register A.</p><p>把RAM地址14的值，放到了寄存器A.</p></div>	

<img style="float:right;" width="70%" src="../img/0701.png" />

<div class='layout'><p>We've completed the instruction, so we can turn all of our wires off,</p><p>既然指令完成了，我们可以关掉所有线路</p></div>	
<div class='layout'><p>and we are ready to fetch the next instruction in memory.</p><p>去拿下一条指令</p></div>	
<div class='layout'><p>To do this, we increment the Instruction Address Register by 1 which completes the execute phase.</p><p>我们把"指令地址寄存器"+1，"执行阶段"就此结束.</p></div>	
<div class='layout'><p>LOAD_A is just one of several possible instructions that our CPU can execute.</p><p>LOAD_A只是CPU可以执行的各种指令之一</p></div>	
<div class='layout'><p>Different instructions are decoded by different logic circuits,</p><p>不同指令由不同逻辑电路解码</p></div>	
<div class='layout'><p>which configure the CPU's components to perform that action.</p><p>这些逻辑电路会配置CPU内的组件来执行对应操作</p></div>	
<div class='layout'><p>Looking at all those individual decode circuits is too much detail,</p><p>具体分析这些解码电路太繁琐了</p></div>	
<div class='layout'><p>so since we looked at one example,</p><p>既然已经看了1个例子，</p></div>	
<div class='layout'><p>we're going to go head and package them all up as a single Control Unit to keep things simple.</p><p>干脆把"控制单元"包成一个整体，简洁一些.</p></div>	
<img style="float:right;" width="70%" src="../img/0702.png" />
<div class='layout'><p>That's right a new level of abstraction.</p><p>没错，一层新抽象</p></div>	
<div class='layout'><p>The Control Unit is comparable to the conductor of an orchestra,</p><p>控制单元就像管弦乐队的指挥</p></div>	
<div class='layout'><p>directing all of the different parts of the CPU.</p><p>指挥CPU的所有组件</p></div>	
<div class='layout'><p>Having completed one full fetch/decode/execute cycle,</p><p>取指令→解码→执行完成后</p></div>	
<div class='layout'><p>we're ready to start all over again, beginning with the fetch phase.</p><p>现在可以再来一次，从"取指令"开始</p></div>	
<div class='layout'><p>The Instruction Address Register now has the value 1 in it,</p><p>指令地址寄存器现在的值是1</p></div>	
<div class='layout'><p>so the RAM gives us the value stored at address 1, which is 0001 1111.</p><p>所以RAM返回地址1里的值：00011111</p></div>	
<div class='layout'><p>On to the decode phase!</p><p>到"解码"阶段！</p></div>	
<div class='layout'><p>0001 is the "LOAD B" instruction, which moves a value from RAM into Register B.</p><p>0001是LOADB指令，从RAM里把一个值复制到寄存器B</p></div>	
<div class='layout'><p>The memory location this time is 1111, which is 15 in decimal.</p><p>这次内存地址是1111，十进制的15</p></div>	
<div class='layout'><p>Now to the execute phase!</p><p>现在到"执行阶段"！</p></div>	
<div class='layout'><p>The Control Unit configures the RAM to read address 15 and configures Register B to receive the data.</p><p>控制单元叫RAM读地址15，并配置寄存器B接收数据</p></div>	
<div class='layout'><p>Bingo, we just saved the value 00001110, or the number 14 in decimal, into Register B.</p><p>成功，我们把值00001110，也就是十进制的14存到了寄存器B</p></div>	
<div class='layout'><p>Last thing to do is increment our instruction address register by 1,</p><p>最后一件事是"指令地址寄存器"+1</p></div>	
<div class='layout'><p>and we're done with another cycle.</p><p>我们又完成了一个循环</p></div>	
<div class='layout'><p>Our next instruction is a bit different.</p><p>下一条指令有点不同</p></div>	
<div class='layout'><p>Let's fetch it.</p><p>来取它吧</p></div>	
<div class='layout'><p>1000 0100.</p><p>10000100</p></div>	
<div class='layout'><p>That opcode 1000 is an ADD instruction.</p><p>1000是ADD指令</p></div>	
<div class='layout'><p>Instead of an 4-bit RAM address, this instruction uses two sets of 2 bits.</p><p>这次后面的4位不是RAM地址，而是2位2位分别代表2个寄存器</p></div>	
<div class='layout'><p>Remember that 2 bits can encode 4 values,</p><p>2位可以表示4个值</p></div>	
<div class='layout'><p>so 2 bits is enough to select any one of our 4 registers.</p><p>所以足够表示4个寄存器</p></div>	
<div class='layout'><p>The first set of 2 bits is 01, which in this case corresponds to Register B,</p><p>第一个地址是01，代表寄存器B</p></div>	
<div class='layout'><p>and 00, which is Register A.</p><p>第二个地址是00，代表寄存器A</p></div>	
<div class='layout'><p>So "1000 01 00" is the instruction for adding the value in Register B into the value in register A.</p><p>因此，10000100，代表把寄存器B的值，加到寄存器A里</p></div>	
<div class='layout'><p>So to execute this instruction, we need to integrate the ALU we made in Episode 5 into our CPU.</p><p>为了执行这个指令，我们要整合第5集的ALU</p></div>	
<div class='layout'><p>The Control Unit is responsible for selecting the right registers to pass in as inputs,</p><p>控制单元负责选择正确的寄存器作为输入</p></div>	
<div class='layout'><p>and configuring the ALU to perform the right operation.</p><p>并配置ALU执行正确的操作</p></div>	
<div class='layout'><p>For this ADD instruction, the Control Unit enables Register B</p><p>对于"ADD"指令，"控制单元"会</p></div>	
<div class='layout'><p>and feeds its value into the first input of the ALU.</p><p>启用寄存器B，作为ALU的第一个输入</p></div>	
<div class='layout'><p>It also enables Register A and feeds it into the second ALU input.</p><p>还启用寄存器A，作为ALU的第二个输入</p></div>	
<div class='layout'><p>As we already discussed, the ALU itself can perform several different operations,</p><p>之前说过，ALU可以执行不同操作</p></div>	
<div class='layout'><p>so the Control Unit must configure it to perform an ADD operation by passing in the ADD opcode.</p><p>所以控制单元必须传递ADD操作码告诉它要做什么</p></div>	
<div class='layout'><p>Finally, the output should be saved into Register A.</p><p>最后，结果应该存到寄存器A</p></div>	
<div class='layout'><p>But it can't be written directly</p><p>但不能直接写入寄存器A</p></div>	
<div class='layout'><p>because the new value would ripple back into the ALU and then keep adding to itself.</p><p>这样新值会进入ALU，不断和自己相加</p></div>	
<div class='layout'><p>So the Control Unit uses an internal register to temporarily save the output,</p><p>因此，控制单元用一个自己的寄存器暂时保存结果</p></div>	
<div class='layout'><p>turn off the ALU, and then write the value into the proper destination register.</p><p>关闭ALU，然后把值写入正确的寄存器</p></div>	
<div class='layout'><p>In this case, our inputs were 3 and 14, and so the sum is 17, or 00010001 in binary,</p><p>这里3+14=17，二进制是00010001</p></div>	
<img style="float:right;" width="70%" src="../img/0703.png" />
<div class='layout'><p>which is now sitting in Register A.</p><p>现在存到了寄存器A</p></div>	
<div class='layout'><p>As before, the last thing to do is increment our instruction address by 1,</p><p>和之前一样，最后一件事是把指令地址+1</p></div>	
<div class='layout'><p>and another cycle is complete.</p><p>这个循环就完成了</p></div>	
<div class='layout'><p>Okay, so let's fetch one last instruction: 0100 1101.</p><p>好，来看最后一个指令：01001101</p></div>	
<div class='layout'><p>When we decode it we see that 0100 is a STORE_A instruction, with a RAM address of 13.</p><p>解码得知是STOREA指令（把寄存器A的值放入内存），RAM地址13</p></div>	
<div class='layout'><p>As usual, we pass the address to the RAM module,</p><p>接下来，把地址传给RAM</p></div>	
<div class='layout'><p>but instead of read-enabling the memory, we write-enable it.</p><p>但这次不是"允许读取"，而是"允许写入"</p></div>	
<div class='layout'><p>At the same time, we read-enable Register A.</p><p>同时，打开寄存器A的"允许读取"</p></div>	
<div class='layout'><p>This allows us to use the data line to pass in the value stored in register A.</p><p>这样就可以把寄存器A里的值，传给RAM</p></div>	
<img style="float:right;" width="70%" src="../img/0704.png" />
<div class='layout'><p>Congrats, we just ran our first computer program!</p><p>恭喜，我们刚运行了第一个电脑程序！</p></div>	
<div class='layout'><p>It loaded two values from memory, added them together,</p><p>它从内存中加载两个值，相加，然后把结果放回内存</p></div>	
<div class='layout'><p>and then saved that sum back into memory.</p><p>它从内存中加载两个值，相加，然后把结果放回内存</p></div>	
<div class='layout'><p>Of course, by me talking you through the individual steps,</p><p>刚刚是我一步步来讲的，</p></div>	
<div class='layout'><p>I was manually transitioning the CPU through its fetch, decode and execute phases.</p><p>我们人工切换CPU的状态"取指令→解码→执行"</p></div>	
<div class='layout'><p>But there isn't a mini Carrie Anne inside of every computer.</p><p>但不是每台电脑里都有一个迷你CarrieAnne</p></div>	
<div class='layout'><p>So the responsibility of keeping the CPU ticking along falls to a component called the clock.</p><p>其实是"时钟"来负责管理CPU的节奏</p></div>	
<div class='layout'><p>As it's name suggests, the clock triggers an electrical signal at a precise and regular interval.</p><p>时钟以精确的间隔触发电信号</p></div>	
<img style="float:right;" width="70%" src="../img/0705.png" />
<div class='layout'><p>Its signal is used by the Control Unit to advance the internal operation of the CPU,</p><p>控制单元会用这个信号，推进CPU的内部操作</p></div>	
<div class='layout'><p>keeping everything in lock-step</p><p>确保一切按步骤进行</p></div>	
<div class='layout'><p>like the dude on a Roman galley drumming rhythmically at the front,</p><p>就像罗马帆船的船头，有一个人负责按节奏的击鼓，</p></div>	
<div class='layout'><p>keeping all the rowers synchronized... or a metronome.</p><p>让所有划船的人同步...就像节拍器一样</p></div>	
<div class='layout'><p>Of course you can't go too fast,</p><p>节奏不能太快</p></div>	
<div class='layout'><p>because even electricity takes some time to travel down wires and for the signal to settle.</p><p>因为就算是电也要一定时间来传输</p></div>	
<div class='layout'><p>The speed at which a CPU can carry out each step of the fetch-decode-execute cycle</p><p>CPU"取指令→解码→执行"的速度</p></div>	
<div class='layout'><p>is called its Clock Speed.</p><p>叫"时钟速度"</p></div>	
<div class='layout'><p>This speed is measured in Hertz a unit of frequency.</p><p>单位是赫兹赫兹是用来表示频率的单位</p></div>	
<div class='layout'><p>One Hertz means one cycle per second.</p><p>1赫兹代表一秒1个周期</p></div>	
<div class='layout'><p>Given that it took me about 6 minutes to talk you through 4 instructions</p><p>因为我花了大概6分钟，给你讲了4条指令</p></div>	
<div class='layout'><p>LOAD, LOAD, ADD and STORE</p><p>读取→读取→相加→存储</p></div>	
<div class='layout'><p>that means I have an effective clock speed of roughly .03 Hertz.</p><p>所以我的时钟速度大概是0.03赫兹</p></div>	
<div class='layout'><p>Admittedly, I'm not a great computer</p><p>我承认我算数不快</p></div>	
<div class='layout'><p>but even someone handy with math might only be able to do one calculation in their head every second or 1 Hertz.</p><p>但哪怕有人算数很快，最多也就是一秒一次，或1赫兹</p></div>	
<div class='layout'><p>The very first, single-chip CPU was the Intel 4004, a 4-bit CPU released in 1971.</p><p>第一个单芯片CPU是"英特尔4004"，1971年发布的4位CPU</p></div>	
<div class='layout'><p>It's microarchitecture is actually pretty similar to our example CPU.</p><p>它的微架构很像我们之前说的CPU</p></div>	
<div class='layout'><p>Despite being the first processor of its kind,</p><p>虽然是第一个单芯片的处理器</p></div>	
<div class='layout'><p>it had a mind-blowing clock speed of 740 Kilohertz</p><p>但它的时钟速度达到了740千赫兹</p></div>	
<img style="float:right;" width="70%" src="../img/0706.png" />
<div class='layout'><p>that's 740 thousand cycles per second.</p><p>每秒74万次</p></div>	
<div class='layout'><p>You might think that's fast,</p><p>你可能觉得很快</p></div>	
<div class='layout'><p>but it's nothing compared to the processors that we use today.</p><p>但和如今的处理器相比不值一提</p></div>	
<div class='layout'><p>One megahertz is one million clock cycles per second,</p><p>一兆赫兹是1秒1百万个时钟周期</p></div>	
<div class='layout'><p>and the computer or even phone that you are watching this video on right now is no doubt a few gigahertz</p><p>你现在看视频的电脑或手机，肯定有几千兆赫兹</p></div>	
<div class='layout'><p>that's BILLIONs of CPU cycles every single... second.</p><p>1秒10亿次时钟周期</p></div>	
<div class='layout'><p>Also, you may have heard of people overclocking their computers.</p><p>你可能听过有人会把计算机超频</p></div>	
<div class='layout'><p>This is when you modify the clock to speed up the tempo of the CPU</p><p>意思是修改时钟速度，加快CPU的速度</p></div>	
<div class='layout'><p>like when the drummer speeds up when the Roman Galley needs to ram another ship.</p><p>就像罗马帆船要撞另一艘船时，鼓手会加快敲鼓速度</p></div>	
<div class='layout'><p>Chip makers often design CPUs with enough tolerance to handle a little bit of overclocking,</p><p>芯片制造商经常给CPU留一点余地，可以接受一点超频</p></div>	
<div class='layout'><p>but too much can either overheat the CPU,</p><p>但超频太多会让CPU过热</p></div>	
<div class='layout'><p>or produce gobbledygook as the signals fall behind the clock.</p><p>或产生乱码，因为信号跟不上时钟</p></div>	
<div class='layout'><p>And although you don't hear very much about underclocking,</p><p>你可能很少听说降频</p></div>	
<div class='layout'><p>it's actually super useful.</p><p>但降频其实很有用</p></div>	
<div class='layout'><p>Sometimes it's not necessary to run the processor at full speed...</p><p>有时没必要让处理器全速运行</p></div>	
<div class='layout'><p>maybe the user has stepped away, or just not running a particularly demanding program.</p><p>可能用户走开了，或者在跑一个性能要求较低的程序</p></div>	
<div class='layout'><p>By slowing the CPU down, you can save a lot of power,</p><p>把CPU的速度降下来，可以省很多电</p></div>	
<div class='layout'><p>which is important for computers that run on batteries, like laptops and smartphones.</p><p>省电对用电池的设备很重要，比如笔记本和手机</p></div>	
<div class='layout'><p>To meet these needs,</p><p>为了尽可能省电</p></div>	
<div class='layout'><p>many modern processors can increase or decrease their clock speed based on demand,</p><p>很多现代处理器可以按需求加快或减慢时钟速度</p></div>	
<div class='layout'><p>which is called dynamic frequency scaling.</p><p>这叫"动态调整频率"</p></div>	
<div class='layout'><p>So, with the addition of a clock, our CPU is complete.</p><p>加上时钟后，CPU才是完整的.</p></div>	
<div class='layout'><p>We can now put a box around it, and make it its own component.</p><p>现在可以放到盒子里，变成一个独立组件</p></div>	
<img style="float:right;" width="70%" src="../img/0707.png" />
<div class='layout'><p>Yup.</p><p>对</p></div>	
<div class='layout'><p>A new level of abstraction!</p><p>一层新的抽象！</p></div>	
<div class='layout'><p>RAM, as I showed you last episode,</p><p>RAM，上集说过，</p></div>	
<div class='layout'><p>lies outside the CPU as its own component,</p><p>是在CPU外面的独立组件</p></div>	
<div class='layout'><p>and they communicate with each other using address, data and enable wires.</p><p>CPU和RAM之间，用"地址线""数据线"和"允许读/写线"进行通信</p></div>	
<div class='layout'><p>Although the CPU we designed today is a simplified example,</p><p>虽然今天我们设计的CPU是简化版的，</p></div>	
<div class='layout'><p>many of the basic mechanics we discussed are still found in modern processors.</p><p>但我们提到的很多机制，依然存在于现代处理器里</p></div>	
<div class='layout'><p>Next episode, we're going to beef up our CPU,</p><p>下一集，我们要加强CPU，给它扩展更多指令.</p></div>	
<div class='layout'><p>extending it with more instructions as we take our first baby steps into software.</p><p>同时开始讲软件.</p></div>	
<div class='layout'><p>I'll see you next week.</p><p>下周见</p></div>	
﻿
</div> <!--container-->
<div>
<a id="ftsizea" onclick='document.getElementById("container").style.fontSize = "1.4em";' target="_self" style="color:#fff;" title="大：1.4em"><div id="ftsize1" style="color:#fff;">大</div></a>
<a id="ftsizea" onclick='document.getElementById("container").style.fontSize = "1.2em";' target="_self" style="color:#fff;" title="中：1.2em"><div id="ftsize2" style="color:#fff;">中</div></a>
<a id="ftsizea" onclick='document.getElementById("container").style.fontSize = "1.0em";' target="_self" style="color:#fff;" title="小：1em"><div id="ftsize3" style="color:#fff;">小</div></a>
<a id="fPagea" href="index.html" target="_self"><div id="fPage" style="color:#fff;">上<br>一<br>章</div></a>
<a href="index.html" target="_self"><div id="menuPage" style="color:#fff;">目<br>录</div></a>
<a id="LPagea" href="javascript:void(null)" target="_self"><div id="lPage" style="color:#fff;">下<br>一<br>章</div></a>
<a target="_self" style="color:#fff;"><div style="display:none; color:#fff;" id="goTopBtn">&and;</div></a>
<a onclick="shangy()" target="_self" style="color:#fff;"><div style="display:none; color:#fff;" id="shangy">&uarr;</div></a>
<a onclick="xiay()" target="_self" style="color:#fff;"><div id="xiay" style="color:#fff;">&darr;</div></a>
<a onclick="downn()" target="_self" style="color:#fff;"><div id="goBottom" style="color:#fff;">&or;</div></a>
<script type=text/javascript>
	goTopEx();
	function xiay(){
		window.scrollBy(0,window.innerHeight-10);
	}
	function shangy(){
		window.scrollBy(0,-window.innerHeight+10);
	}
	var obj3=document.getElementById("xiay");
	var obj4=document.getElementById("goBottom");
	function getHeight(){  
		if(browser4=="ch"){
			//谷歌浏览器  
			return document.body.clientHeight; 
		}else{
			//IE、firefox等浏览器 
			return document.documentElement.clientHeight;  
		}  
	}
	getHeight()<window.innerHeight+50?obj3.style.display="none":obj3.style.display="";
	getHeight()<window.innerHeight+50?obj4.style.display="none":obj4.style.display="";
	if(browser4!="ch"){	//firefox需要尝一下才显示向下图标
		xiay();
		shangy();
	}
	//上一页、下一页按钮，需要文件名是数字
	var strUrl=window.location.href;
	var arrUrl=strUrl.split("/");
	var thispage=arrUrl[arrUrl.length-1];
	var thispage2=thispage.split(".");
	var thispage3=thispage2[thispage2.length-2];
	if(thispage3 == 0){
		var obj5=document.getElementById("fPage");
		obj5.style.display="none";
	}else{
		var fpage = thispage3 - 1;
		fpage = fpage +".html";
		document.getElementById("fPagea").href=fpage;
	}
	if(thispage3 == 100){
		var obj6=document.getElementById("lPage");
		obj6.style.display="none";
	}else{
		var fpage = parseInt(thispage3) + 1;
		fpage = fpage +".html";
		document.getElementById("LPagea").href=fpage;
	}
</script>
</div>
</body>
</html>
