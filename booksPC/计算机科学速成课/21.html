<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<base target="_blank" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title></title>
<script type="text/javascript">
var userAgent = navigator.userAgent.toLowerCase();
var browser = 
	(browser = userAgent.match(/qqbrowser\/([\d.]+)/))?"qqbrowser/"+browser[1]:
	(browser = userAgent.match(/se\s+2.x/))?"sogou/2.x": //sougou
	(browser = userAgent.match(/msie\s+([\d.]+)/))?"msie/"+browser[1]: //ie
	(browser = userAgent.match(/chrome\/([\d.]+)/))?"chrome/"+browser[1]: //chrome
	(browser = userAgent.match(/firefox\/([\d.]+)/))?"firefox/"+browser[1]: //firefox
	(browser = userAgent.match(/version\/([\d.]+)\s+safari\/([\d.]+)/))?"safari/"+browser[1]: //safari
	(browser = userAgent.match(/opera\/([\d.]+)([\w\W]+)version\/([\d.]+)/))?"opera/"+browser[3]: //opera
	"other browser";
	var browser4 = browser.substr(0,2);
//实现回到页面顶部  
function goTopEx(){  
	var obj=document.getElementById("goTopBtn"); 
	var obj2=document.getElementById("shangy"); 
	var obj3=document.getElementById("xiay");
	var obj4=document.getElementById("goBottom");  
	
	function getScrollTop(){  
		if(browser4=="ch"){
			//谷歌浏览器  
			return document.documentElement.scrollTop; 
		}else{
			//IE、firefox等浏览器 
			return document.documentElement.scrollTop;  
		}  
	}
	function setScrollTop(value){ 
		if(browser4=="ch"){ 
			//谷歌浏览器  
			document.documentElement.scrollTop=value; 
		}else{  
			//IE、firefox等浏览器
			document.documentElement.scrollTop=value;  
		} 
	}     
	window.onscroll=function(){getScrollTop()>50?obj.style.display="":obj.style.display="none";
	getScrollTop()>100?obj2.style.display="":obj2.style.display="none";
	document.body.clientHeight-getScrollTop()>650?obj3.style.display="":obj3.style.display="none";
	document.body.clientHeight-getScrollTop()>650?obj4.style.display="":obj4.style.display="none";
	}  
	obj.onclick=function(){  
		var goTop=setInterval(scrollMove,10);  
		function scrollMove(){  
				setScrollTop(getScrollTop()/1.1);  
				if(getScrollTop()<1)clearInterval(goTop);  
		}  
	}  
}  
function downn(){
	if(browser4=="ch"){
		//谷歌浏览器  
		window.scrollBy(0,document.body.clientHeight);
	}else{
		//IE、firefox等浏览器  
		window.scrollBy(0,document.documentElement.clientHeight*1000); 
	}
}
function changePage(){ 
	var page = document.getElementById("container");
	page.style.background="black";
	page.style.color="white";
	page.style.fontSize="22px";
	page.style.fontFamily="MV boli";
}
</script>
<script>
document.write('<div style="position:fixed; right: 10px; top:20px; color:#eee;">背景颜色<br><select name=bcolor id=bcolor onchange="javascript:document.body.style.background=this.options[this.selectedIndex].value;"><option style="background-color: #ffffff" value="#ffffff">白色</option><option style="background-color: #f6f6f6" value="#f6f6f6">银灰</option><option style="background-color: #e4ebf1" value="#e4ebf1">淡蓝</option><option style="background-color: #e6f3ff" value="#e6f3ff">蓝色</option> <option style="background-color: #eeeeee" value="#eeeeee">淡灰</option><option style="background-color: #eaeaea" value="#eaeaea">灰色</option>  <option style="background-color: #e4e1d8" value="#e4e1d8">深灰</option><option style="background-color: #e6e6e6" value="#e6e6e6">暗灰</option><option style="background-color: #eefaee" value="#eefaee">绿色</option><option style="background-color: #ffffed" value="#ffffed">明黄</option><option style="background-color: #333333" value="#333333">黑色</option></select><br>字体颜色<br><select name=txtcolor id=txtcolor onchange="javascript:document.getElementById(\'container\').style.color=this.options[this.selectedIndex].value;"> <option value="#000000">黑色</option><option value="#ff0000" style="color:red;">红色</option><option value="#006600" style="color:green;">绿色</option><option value="#0000ff" style="color:blue;">蓝色</option><option value="#660000" style="color:#006600;">棕色</option><option value="#ffffff">白色</option></select><br>字体大小<br><select name=fontsize id=fonttype onchange="javascript:document.getElementById(\'container\').style.fontSize=this.options[this.selectedIndex].value;"> <option value="12px" >小号</option> <option value="14px" >较小</option> <option value="19px" >中号</option> <option value="19px" >默认</option><option value="22px" >较大</option><option value="25px" >大号</option><option value="35px" >35px</option><option value="45px" >45px</option><option value="55px" >55px</option><option value="65px" >65px</option><option value="75px" >75px</option><option value="85px" >85px</option><option value="95px" >95px</option></select>><br>字体类型<br><select name=fonttype id=fonttype onchange="javascript:document.getElementById(\'container\').style.fontFamily=this.options[this.selectedIndex].value;"> <option value="宋体" >宋体</option> <option value="MV boli" style="font-family:MV boli">MV boli</option> <option value="隶书" style="font-family:隶书">隶书</option> <option value="黑体" style="font-family:黑体">黑体</option><option value="楷体" style="font-family:楷体">楷体</option><option value="幼圆" style="font-family:幼圆">幼圆</option><option value="华文中宋" style="font-family:华文中宋">华文中宋</option><option value="华文行楷" style="font-family:华文行楷">华文行楷</option><option value="微软雅黑" style="font-family:微软雅黑">微软雅黑</option><option value="Arial" style="font-family:Arial">Arial</option><option value="Vrinda" style="font-family:Vrinda">Vrinda</option><option value="Tahoma" style="font-family:Tahoma">Tahoma</option><option value="Courier" style="font-family:Courier">Courier</option><option value="Times" style="font-family:Times">Times</option><option value="Georgia" style="font-family:Georgia">Georgia</option><option value="Lucida" style="font-family:Lucida">Lucida</option></select><br><a onClick="changePage()" target="_self" id="changepage">黑底白字</a></div>');   
</script>
<style type="text/css">
#tbrowser a:link，#container a:visited{
	font-size:18px;
	text-decoration:none;
}
a:link{
	text-decoration:none;
	}
#container{
	font-size:1.2em;
	margin:auto;
	font-family:"宋体";
	width:85.29%;
	line-height:1.6em;
	overflow:hidden;
}
P{
	margin-top:16px;
	margin-bottom:16px;
	text-indent:2em;
}
.uls{
	color:#CC6666;
	font-weight:bold;
}
.uls>ol{
	list-style:none;
	font-weight:normal;
	list-style:lower-latin;
	color:#000000;
	line-height:1.3em;
}
h2{
	font-size:20px;
	font-weight:bold;
	margin-top:15px;
	margin-bottom:0px;
	text-indent:0em;
}
#goTopBtn, #goBottom, #shangy, #xiay, #menuPage, #lPage, #fPage, #ftsize1, #ftsize2, #ftsize3{
	width: 18px;
    line-height: 1.2;
    padding: 5px 0;
    font-size: 12px;
    text-align: center;
    position: fixed;
	right: 10px;
    cursor: pointer;
    filter: Alpha(opacity=30);
	opacity=.3;
	font-weight:bold;
}
#goTopBtn, #goBottom, #menuPage, #lPage, #fPage, #ftsize1, #ftsize3{
    background-color:#999;
    color:#000;
}
#shangy, #xiay, #lPage, #fPage, #ftsize, #ftsize2{
    background-color: #bbb;
    color: #000;
}
#fPage{
	bottom: 236px;
	height:42px;
	white-space:nowrap;
	overflow:hidden;
	//writing-mode:tb-rl;
}
#menuPage{
	bottom: 198px;
	height:27px;
	white-space:nowrap;
	overflow:hidden;
}
#lPage{
	bottom: 145px;
	height:42px;
	white-space:nowrap;
	overflow:hidden;
}
#ftsize1{
	bottom:360px;
}
#ftsize2{
	bottom:334px;
}
#ftsize3{
	bottom:308px;
}
#goTopBtn{
    bottom: 105px;
}
#goBottom {
    bottom: 30px;
}
#shangy {
    bottom: 80px;
}
#xiay {
    bottom: 55px;
}
#goTopBtn:hover, #goBottom:hover, #shangy:hover, #xiay:hover, #menuPage:hover, #lPage:hover, #fPage:hover, #ftsize1:hover, #ftsize2:hover, #ftsize3:hover{
	background-color:#ccc;
	border:#ccc 0px solid;
}
#goTopBtn a:link, #goBottom a:link, #xiay a:link, #shangy a:link, #menuPage a:link, #ftsize1 a:link, #ftsize2 a:link, #ftsize3 a:link, #menuPage a:visited, #lPage a:link, #fPage a:link, #lPage a:visited, #fPage a:visited {
	text-decoration: none;
	color:white;
}
img{
	margin-right:2em;
	text-indent:2em;
	border:0;
}
.picsay{
	color:#930;
	font-size:90%;
	line-height:110%;
	margin-top:-12px;
	padding:0;
}
.remark{
	color:#930;
	font-size:90%;
	line-height:140%;
	margin-top:-12px;
	text-indent:0em;
	padding:0;
}
.ref{
	color:#930;
	font-size:95%;
	line-height:150%;
	margin-top:-12px;
	text-indent:2em;
	padding:0;
}
.code0, .code2, .code4{
	font-size:90%;
	line-height:110%;
	margin-top:-12px;
	padding:0;
}
.code0{
	color:red;
	text-indent:0em;
}
.code2{
	color:#930;
	text-indent:2em;
}
.code4{
	color:blue;
	text-indent:4em;
}
sub,sup{
	font-size:80%;
	color:red;
}
.layout, .layout2{
    clear:both;
	width:95%;
	border:1px dotted #eee;
	margin:auto;
	margin-bottom:5px;
	overflow:hidden;
}
.layout2 .right, .layout2 .left, .layout p{
margin-bottom:-55px;
padding-bottom:55px;
text-align: justify;
margin:0;
padding:0;
margin-left:1%;
margin-right:1%;
}
.layout2 .left, .layout p{
float:left;
width:60%;
font-size:1.0em;
}
.layout2 .right,  .layout p+p {
	float: left;
	width:34%;
	border-left:1px dotted #cccccc;
	font-size:0.9em;
	padding-left:1%;
	
}
.layout2 .right p, .layout2 .left p, .layout p{
padding-bottom:5px;
}
h3{
text-indent:3%;
font-size:1em;
height:2.0em;
padding:0;
margin:0;
}
</style>
</head>
<body>
<div id="container">
﻿<div class='layout'><p>21 Compression</p><p>21 压缩</p></div>	
<div class='layout'><p>Hi, I'm Carrie Anne, and welcome to Crash Course Computer Science!</p><p>嗨，我是 Carrie Anne，欢迎收看计算机科学速成课！</p></div>	
<div class='layout'><p>Last episode we talked about Files, bundles of data, stored on a computer, that</p><p>上集我们讨论了文件格式，</p></div>	
<div class='layout'><p>are formatted and arranged to encode information, like text, sound or images.</p><p>如何编码文字，声音，图片</p></div>	
<div class='layout'><p>We even discussed some basic file formats, like text, wave, and bitmap.</p><p>还举了具体例子 .txt .wav .bmp</p></div>	
<div class='layout'><p>While these formats are perfectly fine and still used today,</p><p>这些格式虽然管用，而且现在还在用，</p></div>	
<div class='layout'><p>their simplicity also means they're not very efficient.</p><p>但它们的简单性意味着效率不高</p></div>	
<div class='layout'><p>Ideally, we want files to be as small as possible, so we can store lots of them without filling</p><p>我们希望文件能小一点，</p></div>	
<div class='layout'><p>up our hard drives, and also transmit them more quickly.</p><p>这样能存大量文件，传输也会快一些</p></div>	
<div class='layout'><p>Nothing is more frustrating than waiting for an email attachment to download. Ugh!</p><p>等邮件附件下载烦死人了</p></div>	
<div class='layout'><p>The answer is compression, which literally squeezes data into a smaller size.</p><p>解决方法是 压缩，把数据占用的空间压得更小</p></div>	
<div class='layout'><p>To do this, we have to encode data using fewer bits than the original representation.</p><p>用更少的位(bit)来表示数据</p></div>	
<div class='layout'><p>That might sound like magic, but it's actually computer science!</p><p>听起来像魔法，但其实是计算机科学！</p></div>	
<div class='layout'><p>Lets return to our old friend from last episode, Mr. Pac-man!</p><p>我们继续用上集的 吃豆人例子，</p></div>	
<div class='layout'><p>This image is 4 pixels by 4 pixels.</p><p>图像是 4像素x4像素</p></div>	
<div class='layout'><p>As we discussed, image data is typically stored as a list of pixel values.</p><p>之前说过，图像一般存成一长串像素值</p></div>	
<div class='layout'><p>To know where rows end, image files have metadata, which defines properties like dimensions.</p><p>为了知道一行在哪里结束，图像要有元数据，写明尺寸等属性</p></div>	
<div class='layout'><p>But, to keep it simple today, we're not going to worry about it.</p><p>但为了简单起见，今天忽略这些细节</p></div>	
<div class='layout'><p>If you mix full intensity red, green and blue that's 255 for all</p><p>如果红绿蓝都是 255 </p></div>	
<div class='layout'><p>three values you get the color white.</p><p>会得到白色</p></div>	
<div class='layout'><p>If you mix full intensity red and green, but no blue (it's 0), you get yellow.</p><p>如果混合 255红色和255绿色，会得到黄色</p></div>	
<div class='layout'><p>We have 16 pixels in our image, and each of those needs 3 bytes of color data.</p><p>这个图像有16个像素(4x4)，  每个像素3个字节</p></div>	
<div class='layout'><p>That means this image's data will consume 48 bytes of storage.</p><p>总共占48个字节（16x3=48）</p></div>	
<div class='layout'><p>But, we can compress the data and pack it into a smaller number of bytes than 48!</p><p>但我们可以压缩到少于 48 个字节</p></div>	
<div class='layout'><p>One way to compress data is to reduce repeated or redundant information.</p><p>一种方法是 减少重复信息</p></div>	
<div class='layout'><p>The most straightforward way to do this is called Run-Length Encoding.</p><p>最简单的方法叫 游程编码(Run-Length Encoding)</p></div>	
<div class='layout'><p>This takes advantage of the fact that there are often runs of identical values in files.</p><p>适合经常出现相同值的文件</p></div>	
<div class='layout'><p>For example, in our pac-man image, there are 7 yellow pixels in a row.</p><p>比如吃豆人 有7个连续黄色像素</p></div>	
<div class='layout'><p>Instead of encoding redundant data: yellow pixel, yellow pixel, yellow pixel, and so</p><p>与其全存下来：黄色，黄色，黄色...</p></div>	
<div class='layout'><p>on, we can just say "there's 7 yellow pixels in a row" by inserting</p><p>可以插入一个额外字节，</p></div>	
<div class='layout'><p>an extra byte that specifies the length of the run, like so:</p><p>代表有7个连续黄色像素</p></div>	
<div class='layout'><p>And then we can eliminate the redundant data behind it.</p><p>然后删掉后面的重复数据.</p></div>	
<div class='layout'><p>To ensure that computers don't get confused with which bytes are run lengths and which</p><p>为了让计算机能分辨哪些字节是"长度" </p></div>	
<div class='layout'><p>bytes represent color, we have to be consistent in how we apply this scheme.</p><p>哪些字节是"颜色"，格式要一致</p></div>	
<div class='layout'><p>So, we need to preface all pixels with their run-length.</p><p>所以我们要给所有像素前面标上长度</p></div>	
<div class='layout'><p>In some cases, this actually adds data, but on the whole, we've dramatically reduced</p><p>有时候数据反而会变多，但就这个例子而言</p></div>	
<div class='layout'><p>the number of bytes we need to encode this image.</p><p>我们大大减少了字节数，</p></div>	
<div class='layout'><p>We're now at 24 bytes, down from 48.</p><p>之前是48 现在是24</p></div>	
<div class='layout'><p>That's 50% smaller!</p><p>小了50％！</p></div>	
<div class='layout'><p>A huge saving!</p><p>省了很多空间！</p></div>	
<div class='layout'><p>Also note that we haven't lost any data.</p><p>还有，我们没有损失任何数据，</p></div>	
<div class='layout'><p>We can easily expand this back to the original form without any degradation.</p><p>我们可以轻易恢复到原来的数据</p></div>	
<div class='layout'><p>A compression technique that has this characteristic is called</p><p>这叫"无损压缩"，</p></div>	
<div class='layout'><p>lossless compression, because we don't lose anything.</p><p>没有丢失任何数据</p></div>	
<div class='layout'><p>The decompressed data is identical to the original before compression, bit for bit.</p><p>解压缩后，数据和压缩前完全一样</p></div>	
<div class='layout'><p>Let's take a look at another type of lossless compression, where</p><p>我们来看另一种无损压缩，</p></div>	
<div class='layout'><p>blocks of data are replaced by more compact representations.</p><p>它用更紧凑的方式表示数据块</p></div>	
<div class='layout'><p>This is sort of like " don't forget to be awesome " being replaced by DFTBA.</p><p>有点像 "别忘了变厉害" 简写成 DFTBA</p></div>	
<div class='layout'><p>To do this, we need a dictionary that stores the mapping from codes to data.</p><p>为此，我们需要一个字典，存储"代码"和"数据"间的对应关系</p></div>	
<div class='layout'><p>Lets see how this works for our example.</p><p>我们看个例子</p></div>	
<div class='layout'><p>We can view our image as not just a string of individual pixels,</p><p>我们可以把图像看成一块块，</p></div>	
<div class='layout'><p>but as little blocks of data.</p><p>而不是一个个像素</p></div>	
<div class='layout'><p>For simplicity, we're going to use pixel pairs, which are 6 bytes long,</p><p>为了简单，我们把2个像素当成1块（占6个字节）</p></div>	
<div class='layout'><p>but blocks can be any size.</p><p>但你也可以定成其他大小</p></div>	
<div class='layout'><p>In our example, there are only four pairings: White-yellow, black-yellow,</p><p>我们只有四对： 白黄 黑黄 </p></div>	
<div class='layout'><p>yellow-yellow and white-white.</p><p>黄黄 白白</p></div>	
<div class='layout'><p>Those are the data blocks in our dictionary we want to generate compact codes for.</p><p>我们会为这四对  生成紧凑代码(compact codes)</p></div>	
<div class='layout'><p>What's interesting, is that these blocks occur at different frequencies.</p><p>有趣的是，这些块的出现频率不同</p></div>	
<div class='layout'><p>One method for generating efficient codes is building a Huffman Tree, invented by David</p><p>1950年代 大卫·霍夫曼 发明了一种高效编码方式叫，"霍夫曼树"（Huffman Tree）</p></div>	
<div class='layout'><p>Huffman while he was a student at MIT in the 1950s.</p><p>当时他是麻省理工学院的学生</p></div>	
<div class='layout'><p>His algorithm goes like this.</p><p>算法是这样的</p></div>	
<div class='layout'><p>First, you layout all the possible blocks and their frequencies.</p><p>首先，列出所有块和出现频率，</p></div>	
<div class='layout'><p>At every round, you select the two with the lowest frequencies.</p><p>每轮选两个最低的频率</p></div>	
<div class='layout'><p>Here, that's Black-Yellow and White-White, each with a frequency of 1.</p><p>这里 黑黄 和 白白 的频率最低，它们都是 1</p></div>	
<div class='layout'><p>You combine these into a little tree. which have a combined frequency of 2,</p><p>可以把它们组成一个树，</p></div>	
<div class='layout'><p>so we record that.</p><p>总频率 2</p></div>	
<div class='layout'><p>And now one step of the algorithm done.</p><p>现在完成了一轮算法</p></div>	
<div class='layout'><p>Now we repeat the process.</p><p>现在我们重复这样做</p></div>	
<div class='layout'><p>This time we have three things to choose from.</p><p>这次有3个可选</p></div>	
<div class='layout'><p>Just like before, we select the two with the lowest frequency, put them into a little tree,</p><p>就像上次一样，选频率最低的两个，</p></div>	
<div class='layout'><p>and record the new total frequency of all the sub items.</p><p>放在一起，并记录总频率</p></div>	
<div class='layout'><p>Ok, we're almost done.</p><p>好，我们快完成了</p></div>	
<div class='layout'><p>This time it's easy to select the two items with the lowest frequency</p><p>这次很简单，</p></div>	
<div class='layout'><p>because there are only two things left to pick.</p><p>因为只有2个选择</p></div>	
<div class='layout'><p>We combine these into a tree, and now we're done!</p><p>把它们组合成一棵树就完成了！</p></div>	
<div class='layout'><p>Our tree looks like this, and it has a very cool property: it's arranged by frequency,</p><p>现在看起来像这样，它有一个很酷的属性：按频率排列</p></div>	
<div class='layout'><p>with less common items lower down.</p><p>频率低的在下面</p></div>	
<div class='layout'><p>So, now we have a tree, but you may be wondering how this gets us to a dictionary.</p><p>现在有了一棵树，你可能在想  "怎么把树变成字典？"</p></div>	
<div class='layout'><p>Well, we use our frequency-sorted tree to generate the codes we need</p><p>我们可以把每个分支用 0 和 1 标注，</p></div>	
<div class='layout'><p>by labeling each branch with a 0 or a 1, like so.</p><p>就像这样</p></div>	
<div class='layout'><p>With this, we can write out our code dictionary.</p><p>现在可以生成字典</p></div>	
<div class='layout'><p>Yellow-yellow is encoded as just a single 0.  White-yellow is encoded as 10</p><p>黄黄 编码成 0 ，白黄 编码成 10，</p></div>	
<div class='layout'><p>Black-Yellow is 1 1 0. and finally white-white is 1 1 1.</p><p>黑黄 编码成 110，白白 编码成 111</p></div>	
<div class='layout'><p>The really cool thing about these codewords is that there's no way to</p><p>酷的地方是  它们绝对不会冲突</p></div>	
<div class='layout'><p>have conflicting codes, because each path down the tree is unique.</p><p>因为树的每条路径是唯一的</p></div>	
<div class='layout'><p>This means our codes are prefix-free, that is no code starts with another complete code.</p><p>意味着代码是"无前缀"的，没有代码是以另一个代码开头的</p></div>	
<div class='layout'><p>Now, let's return to our image data and compress it!</p><p>现在我们来压缩！</p></div>	
<div class='layout'><p>NOT BYTES -BITS!! That's less than 2 bytes of data!</p><p>注意是位(bit)！ 不是字节(byte)！，14位(bit) 还不到2个字节(byte)！</p></div>	
<div class='layout'><p>But, don't break out the champagne quite yet!</p><p>但，先别急着开香槟！</p></div>	
<div class='layout'><p>This data is meaningless unless we also save our code dictionary.</p><p>字典也要保存下来，否则 14 bit 毫无意义</p></div>	
<div class='layout'><p>So, we'll need to append it to the front of the image data, like this.</p><p>所以我们把字典 加到 14 bit 前面，就像这样</p></div>	
<div class='layout'><p>Now, including the dictionary, our image data is 30 bytes long.</p><p>现在加上字典，图像是 30 个字节(bytes) ，</p></div>	
<div class='layout'><p>That's still a significant improvement over 48 bytes.</p><p>比 48 字节好很多</p></div>	
<div class='layout'><p>The two approaches we discussed,</p><p>消除冗余和"用更紧凑的表示方法"，这两种方法通常会组合使用</p></div>	
<div class='layout'><p>removing redundancies and using more compact representations, are often combined,</p><p>消除冗余和"用更紧凑的表示方法"，这两种方法通常会组合使用</p></div>	
<div class='layout'><p>and underlie almost all lossless compressed file formats,</p><p>几乎所有无损压缩格式都用了它们，</p></div>	
<div class='layout'><p>like GIF, PNG, PDF and ZIP files.</p><p>比如 GIF， PNG， PDF， ZIP</p></div>	
<div class='layout'><p>Both run-length encoding and dictionary coders are lossless compression techniques.</p><p>游程编码 和 字典编码 都是无损压缩</p></div>	
<div class='layout'><p>No information is lost; when you decompress, you get the original file.</p><p>压缩时不会丢失信息，解压后，数据和之前完全一样</p></div>	
<div class='layout'><p>That's really important for many types of files.</p><p>无损对很多文件很重要</p></div>	
<div class='layout'><p>Like, it'd be very odd if I zipped up a word document to send to you,</p><p>比如我给你发了个压缩的 word 文档，</p></div>	
<div class='layout'><p>and when you decompressed it on your computer, the text was different.</p><p>你解压之后发现内容变了，这就很糟糕了</p></div>	
<div class='layout'><p>But, there are other types of files where we can get away with little changes, perhaps</p><p>但其他一些文件，丢掉一些数据没什么关系</p></div>	
<div class='layout'><p>by removing unnecessary or less important information, especially information</p><p>丢掉那些人类</p></div>	
<div class='layout'><p>that human perception is not good at detecting.</p><p>看不出区别的数据</p></div>	
<div class='layout'><p>And this trick underlies most lossy compression techniques.</p><p>大多数有损压缩技术，都用到了这点</p></div>	
<div class='layout'><p>These tend to be pretty complicated, so we're going to attack this at a conceptual level.</p><p>实际细节比较复杂，所以我们讲概念就好</p></div>	
<div class='layout'><p>Let's take sound as an example.</p><p>以声音为例，</p></div>	
<div class='layout'><p>Your hearing is not perfect.</p><p>你的听力不是完美的</p></div>	
<div class='layout'><p>We can hear some frequencies of sound better than others.</p><p>有些频率我们很擅长，</p></div>	
<div class='layout'><p>And there are some we can't hear at all, like ultrasound.</p><p>其他一些我们根本听不见，比如超声波</p></div>	
<div class='layout'><p>Unless you're a bat.</p><p>除非你是蝙蝠</p></div>	
<div class='layout'><p>Basically, if we make a recording of music, and there's data in the ultrasonic frequency range,</p><p>举个例子，如果录音乐，</p></div>	
<div class='layout'><p>we can discard it, because we know that humans can't hear it.</p><p>超声波数据都可以扔掉，因为人类听不到超声波</p></div>	
<div class='layout'><p>On the other hand, humans are very sensitive to frequencies in the vocal range, like people</p><p>另一方面，人类对人声很敏感，</p></div>	
<div class='layout'><p>singing, so it's best to preserve quality there as much as possible.</p><p>所以应该尽可能保持原样</p></div>	
<div class='layout'><p>Deep bass is somewhere in between.</p><p>低音介于两者之间，</p></div>	
<div class='layout'><p>Humans can hear it, but we're less attuned to it.</p><p>人类听得到，但不怎么敏感</p></div>	
<div class='layout'><p>We mostly sense it.</p><p>一般是感觉到震动</p></div>	
<div class='layout'><p>Lossy audio compressors takes advantage of this, and encode different</p><p>有损音频压缩利用这一点，</p></div>	
<div class='layout'><p>frequency bands at different precisions.</p><p>用不同精度编码不同频段</p></div>	
<div class='layout'><p>Even if the result is rougher, it's likely that users won't perceive the difference.</p><p>听不出什么区别，</p></div>	
<div class='layout'><p>Or at least it doesn't dramatically affect the experience.</p><p>不会明显影响体验</p></div>	
<div class='layout'><p>And here comes the hate mail from the audiophiles!</p><p>音乐发烧友估计要吐槽了！</p></div>	
<div class='layout'><p>You encounter this type of audio compression all the time.</p><p>日常生活中你会经常碰到这类音频压缩</p></div>	
<div class='layout'><p>It's one of the reasons you sound different on a cellphone versus in person.</p><p>所以你在电话里的声音 和现实中不一样</p></div>	
<div class='layout'><p>The audio data is being compressed, allowing more people to take calls at once.</p><p>压缩音频是为了让更多人能同时打电话</p></div>	
<div class='layout'><p>As the signal quality or bandwidth get worse, compression algorithms remove more data,</p><p>如果网速变慢了，压缩算法会删更多数据</p></div>	
<div class='layout'><p>further reducing precision, which is why Skype calls sometimes sound like robots talking.</p><p>进一步降低声音质量，所以 Skype 通话有时听起来像机器人</p></div>	
<div class='layout'><p>Compared to an uncompressed audio format, like a WAV or FLAC (there we go, got the audiophiles back)</p><p>和没压缩的音频格式相比，比如 WAV 或 FLAC，( 这下音乐发烧友满意了）</p></div>	
<div class='layout'><p>compressed audio files, like MP3s, are often 10 times smaller.</p><p>压缩音频文件如 MP3，能小10倍甚至更多.</p></div>	
<div class='layout'><p>That's a huge saving!</p><p>省了超多空间！</p></div>	
<div class='layout'><p>And it's why I've got a killer music collection on my retro iPod.</p><p>所以我的旧 iPod 上有一堆超棒的歌</p></div>	
<div class='layout'><p>Don't judge.</p><p>别批判我</p></div>	
<div class='layout'><p>This idea of discarding or reducing precision in a manner that aligns with human perception</p><p>这种删掉人类无法感知的数据的方法，</p></div>	
<div class='layout'><p>is called perceptual coding,</p><p>叫"感知编码"</p></div>	
<div class='layout'><p>and it relies on models of human perception,</p><p>它依赖于人类的感知模型，</p></div>	
<div class='layout'><p>which come from a field of study called Psychophysics.</p><p>模型来自"心理物理学"领域</p></div>	
<div class='layout'><p>This same idea is the basis of lossy compressed image formats, most famously JPEGs.</p><p>这是各种"有损压缩图像格式"的基础，最著名的是 JPEG</p></div>	
<div class='layout'><p>Like hearing, the human visual system is imperfect.</p><p>就像听力一样，人的视觉系统也不是完美的.</p></div>	
<div class='layout'><p>We're really good at detecting sharp contrasts, like the edges of objects,</p><p>我们善于看到尖锐对比，比如物体的边缘</p></div>	
<div class='layout'><p>but our perceptual system isn't so hot with subtle color variations.</p><p>但我们看不出颜色的细微变化</p></div>	
<div class='layout'><p>JPEG takes advantage of this by breaking images up into blocks of 8x8 pixels,</p><p>JPEG 利用了这一点，把图像分解成 8x8 像素块</p></div>	
<div class='layout'><p>then throwing away a lot of the high-frequency spatial data.</p><p>然后删掉大量高频率空间数据</p></div>	
<div class='layout'><p>For example, take this photo of our directors dog Noodle.</p><p>举个例子，这是导演的狗，面面</p></div>	
<div class='layout'><p>So cute!</p><p>超可爱！</p></div>	
<div class='layout'><p>Let's look at a patch of 8x8 pixels.</p><p>我们来看其中一个 8x8 像素</p></div>	
<div class='layout'><p>Pretty much every pixel is different from its neighbor,</p><p>几乎每个像素都和相邻像素不同，</p></div>	
<div class='layout'><p>making it hard to compress with loss-less techniques because there's just a lot going on.</p><p>用无损技术很难压缩，因为太多不同点了</p></div>	
<div class='layout'><p>Lots of little details.</p><p>很多小细节</p></div>	
<div class='layout'><p>But human perception doesn't register all those details.</p><p>但人眼看不出这些细节</p></div>	
<div class='layout'><p>So, we can discard a lot of that detail, and replace it with a simplified patch like this.</p><p>因此可以删掉很多，用这样一个简单的块来代替</p></div>	
<div class='layout'><p>This maintains the visual essence, but might only use 10% of the data.</p><p>这看起来一样，但可能只占10％的原始数据</p></div>	
<div class='layout'><p>We can do this for all the patches in the image and get this result.</p><p>我们可以对所有 8x8 块做一样的操作</p></div>	
<div class='layout'><p>You can still see it's a dog, but the image is rougher.</p><p>图片依然可以认出是一只狗，只是更粗糙一些</p></div>	
<div class='layout'><p>So, that's an extreme example, going from a slightly compressed JPEG to a highly compressed one,</p><p>以上例子比较极端，进行了高度压缩，</p></div>	
<div class='layout'><p>one-eighth the original file size.</p><p>只有原始大小的八分之一</p></div>	
<div class='layout'><p>Often, you can get away with a quality somewhere in between, and perceptually,</p><p>通常你可以取得平衡，图片看起来差不多，</p></div>	
<div class='layout'><p>it's basically the same as the original.</p><p>但文件小不少</p></div>	
<div class='layout'><p>Can you tell the difference between the two?</p><p>你看得出两张图的区别吗？</p></div>	
<div class='layout'><p>Probably not, but I should mention that video compression plays a role in that too,</p><p>估计看不出，但我想提一下，视频压缩也造成了影响</p></div>	
<div class='layout'><p>since I'm literally being compressed in a video right now.</p><p>毕竟你现在在看视频啊</p></div>	
<div class='layout'><p>Videos are really just long sequences of images, so a lot of what I said</p><p>视频只是一长串连续图片，</p></div>	
<div class='layout'><p>about them applies here too.</p><p>所以图片的很多方面也适用于视频</p></div>	
<div class='layout'><p>But videos can do some extra clever stuff, because between frames,</p><p>但视频可以做一些小技巧，因为帧和帧之间很多像素一样</p></div>	
<div class='layout'><p>a lot of pixels are going to be the same.</p><p>但视频可以做一些小技巧，因为帧和帧之间很多像素一样</p></div>	
<div class='layout'><p>Like this whole background behind me!</p><p>比如我后面的背景！</p></div>	
<div class='layout'><p>This is called temporal redundancy.</p><p>这叫 时间冗余</p></div>	
<div class='layout'><p>We don't need to re-transmit those pixels every frame of the video.</p><p>视频里不用每一帧都存这些像素，</p></div>	
<div class='layout'><p>We can just copy patches of data forward.</p><p>可以只存变了的部分</p></div>	
<div class='layout'><p>When there are small pixel differences, like the readout on this frequency generator behind me,</p><p>当帧和帧之间有小小的差异时，比如后面这个频率发生器</p></div>	
<div class='layout'><p>most video formats send data that encodes just the difference between patches,</p><p>很多视频编码格式，只存变化的部分</p></div>	
<div class='layout'><p>which is more efficient than re-transmitting all the pixels afresh, again taking advantage</p><p>这比存所有像素更有效率，</p></div>	
<div class='layout'><p>of inter-frame similarity.</p><p>利用了帧和帧之间的相似性</p></div>	
<div class='layout'><p>The fanciest video compression formats go one step further.</p><p>更高级的视频压缩格式 会更进一步</p></div>	
<div class='layout'><p>They find patches that are similar between frames, and not only copy them forward, with</p><p>找出帧和帧之间相似的补丁，</p></div>	
<div class='layout'><p>or without differences, but also can apply simple effects to them, like a shift or rotation.</p><p>然后用简单效果实现，比如移动和旋转</p></div>	
<div class='layout'><p>They can also lighten or darken a patch between frames.</p><p>变亮和变暗</p></div>	
<div class='layout'><p>So, if I move my hand side to side like this the video compressor will identify the similarity,</p><p>如果我这样摆手，视频压缩器会识别到相似性</p></div>	
<div class='layout'><p>capture my hand in one or more patches, then just move these patches around between frames.</p><p>用一个或多个补丁代表我的手，然后帧之间直接移动这些补丁</p></div>	
<div class='layout'><p>You're actually seeing my hand from the past kinda freaky, but it uses a lot less data.</p><p>所以你看到的是我过去的手（不是实时的），有点可怕 但数据量少得多</p></div>	
<div class='layout'><p>MPEG-4 videos, a common standard, are often 20 to 200 times</p><p>MPEG-4 是常见标准，</p></div>	
<div class='layout'><p>smaller than the original, uncompressed file.</p><p>可以比原文件小20倍到200倍</p></div>	
<div class='layout'><p>However, encoding frames as translations and rotations of patches from previous frames</p><p>但用补丁的移动和旋转 来更新画面</p></div>	
<div class='layout'><p>can go horribly wrong when you compress too heavily, and there isn't</p><p>当压缩太严重时会出错，</p></div>	
<div class='layout'><p>enough space to update pixel data inside of the patches.</p><p>没有足够空间更新补丁内的像素</p></div>	
<div class='layout'><p>The video player will forge ahead, applying the right motions,</p><p>即使补丁是错的，</p></div>	
<div class='layout'><p>even if the patch data is wrong.</p><p>视频播放器也会照样播放</p></div>	
<div class='layout'><p>And this leads to some hilarious and trippy effects, which I'm sure you've seen.</p><p>导致一些怪异又搞笑的结果，你肯定见过这些.</p></div>	
<div class='layout'><p>Overall, it's extremely useful to have compression techniques for all the types of data I discussed today.</p><p>总的来说，压缩对大部分文件类型都有用</p></div>	
<div class='layout'><p>(I guess our imperfect vision and hearing are "useful," too.)</p><p>从这个角度来讲，人类不完美的视觉和听觉 也算有用</p></div>	
<div class='layout'><p>And it's important to know about compression because it allows users to</p><p>学习压缩非常重要，因为可以高效</p></div>	
<div class='layout'><p>store pictures, music, and videos in efficient ways.</p><p>存储图片，音乐，视频</p></div>	
<div class='layout'><p>Without it, streaming your favorite Carpool Karaoke videos on YouTube would be nearly impossible,</p><p>如果没有压缩，在 YouTube 看"明星拼车唱歌"几乎不可能</p></div>	
<div class='layout'><p>due to bandwidth and the economics of transmitting that volume of data for free.</p><p>因为你的带宽可能不够（会很卡），而且供应商不愿意免费传输那么多数据</p></div>	
<div class='layout'><p>And now when your Skype calls sound like they're being taken over by demons,</p><p>现在你知道为什么打 Skype 电话，</p></div>	
<div class='layout'><p>you'll know what's really going on.</p><p>有时像在和恶魔通话</p></div>	
<div class='layout'><p>I'll see you next week.</p><p>下周见</p></div>	
﻿
</div> <!--container-->
<div>
<a id="ftsizea" onclick='document.getElementById("container").style.fontSize = "1.4em";' target="_self" style="color:#fff;" title="大：1.4em"><div id="ftsize1" style="color:#fff;">大</div></a>
<a id="ftsizea" onclick='document.getElementById("container").style.fontSize = "1.2em";' target="_self" style="color:#fff;" title="中：1.2em"><div id="ftsize2" style="color:#fff;">中</div></a>
<a id="ftsizea" onclick='document.getElementById("container").style.fontSize = "1.0em";' target="_self" style="color:#fff;" title="小：1em"><div id="ftsize3" style="color:#fff;">小</div></a>
<a id="fPagea" href="index.html" target="_self"><div id="fPage" style="color:#fff;">上<br>一<br>章</div></a>
<a href="index.html" target="_self"><div id="menuPage" style="color:#fff;">目<br>录</div></a>
<a id="LPagea" href="javascript:void(null)" target="_self"><div id="lPage" style="color:#fff;">下<br>一<br>章</div></a>
<a target="_self" style="color:#fff;"><div style="display:none; color:#fff;" id="goTopBtn">&and;</div></a>
<a onclick="shangy()" target="_self" style="color:#fff;"><div style="display:none; color:#fff;" id="shangy">&uarr;</div></a>
<a onclick="xiay()" target="_self" style="color:#fff;"><div id="xiay" style="color:#fff;">&darr;</div></a>
<a onclick="downn()" target="_self" style="color:#fff;"><div id="goBottom" style="color:#fff;">&or;</div></a>
<script type=text/javascript>
	goTopEx();
	function xiay(){
		window.scrollBy(0,window.innerHeight-10);
	}
	function shangy(){
		window.scrollBy(0,-window.innerHeight+10);
	}
	var obj3=document.getElementById("xiay");
	var obj4=document.getElementById("goBottom");
	function getHeight(){  
		if(browser4=="ch"){
			//谷歌浏览器  
			return document.body.clientHeight; 
		}else{
			//IE、firefox等浏览器 
			return document.documentElement.clientHeight;  
		}  
	}
	getHeight()<window.innerHeight+50?obj3.style.display="none":obj3.style.display="";
	getHeight()<window.innerHeight+50?obj4.style.display="none":obj4.style.display="";
	if(browser4!="ch"){	//firefox需要尝一下才显示向下图标
		xiay();
		shangy();
	}
	//上一页、下一页按钮，需要文件名是数字
	var strUrl=window.location.href;
	var arrUrl=strUrl.split("/");
	var thispage=arrUrl[arrUrl.length-1];
	var thispage2=thispage.split(".");
	var thispage3=thispage2[thispage2.length-2];
	if(thispage3 == 0){
		var obj5=document.getElementById("fPage");
		obj5.style.display="none";
	}else{
		var fpage = thispage3 - 1;
		fpage = fpage +".html";
		document.getElementById("fPagea").href=fpage;
	}
	if(thispage3 == 100){
		var obj6=document.getElementById("lPage");
		obj6.style.display="none";
	}else{
		var fpage = parseInt(thispage3) + 1;
		fpage = fpage +".html";
		document.getElementById("LPagea").href=fpage;
	}
</script>
</div>
</body>
</html>
